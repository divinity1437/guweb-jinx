!function(){var t,e,n,r=window.nv||{};r.version="1.1.15b",r.dev=!0,window.nv=r,r.tooltip=r.tooltip||{},r.utils=r.utils||{},r.models=r.models||{},r.charts={},r.graphs=[],r.logs={},r.dispatch=d3.dispatch("render_start","render_end"),r.dev&&(r.dispatch.on("render_start",function(t){r.logs.startTime=+new Date}),r.dispatch.on("render_end",function(t){r.logs.endTime=+new Date,r.logs.totalTime=r.logs.endTime-r.logs.startTime,r.log("total",r.logs.totalTime)})),r.log=function(){if(r.dev&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(r.dev&&"function"==typeof console.log&&Function.prototype.bind){Function.prototype.bind.call(console.log,console).apply(console,arguments)}return arguments[arguments.length-1]},r.render=function(t){t=t||1,r.render.active=!0,r.dispatch.render_start(),setTimeout(function(){for(var e,n,o=0;o<t&&(n=r.render.queue[o]);o++)e=n.generate(),typeof n.callback==typeof Function&&n.callback(e),r.graphs.push(e);r.render.queue.splice(0,o),r.render.queue.length?setTimeout(arguments.callee,0):(r.dispatch.render_end(),r.render.active=!1)},0)},r.render.active=!1,r.render.queue=[],r.addGraph=function(t){typeof arguments[0]==typeof Function&&(t={generate:arguments[0],callback:arguments[1]}),r.render.queue.push(t),r.render.active||r.render()},r.identity=function(t){return t},r.strip=function(t){return t.replace(/(\s|&)/g,"")},d3.time.monthEnd=function(t){return new Date(t.getFullYear(),t.getMonth(),0)},d3.time.monthEnds=(t=d3.time.monthEnd,e=function(t){var e,n;t.setUTCDate(t.getUTCDate()+1),t.setDate((e=t.getMonth()+1,n=t.getFullYear(),new Date(n,e+1,0).getDate()))},n=function(t){return t.getMonth()},function(r,o,a){var i=t(r),l=[];if(i<r&&e(i),a>1)for(;i<o;){var s=new Date(+i);n(s)%a==0&&l.push(s),e(i)}else for(;i<o;)l.push(new Date(+i)),e(i);return l}),r.interactiveGuideline=function(){"use strict";function t(d){d.each(function(d){function p(){var n=d3.mouse(this),r=n[0],o=n[1],s=!0,c=!1;if(u&&(r=d3.event.offsetX,o=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(s=!1),d3.event.target.className.baseVal.match("nv-legend")&&(c=!0)),s&&(r-=a.left,o-=a.top),r<0||o<0||r>h||o>g||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||c){if(u&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&d3.event.relatedTarget.className.match(e.nvPointerEventsClass))return;return l.elementMouseout({mouseX:r,mouseY:o}),void t.renderGuideLine(null)}var d=i.invert(r);l.elementMousemove({mouseX:r,mouseY:o,pointXValue:d}),"dblclick"===d3.event.type&&l.elementDblclick({mouseX:r,mouseY:o,pointXValue:d})}var f=d3.select(this),h=n||960,g=o||400,v=f.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([d]);v.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),c&&(c.on("mousemove",p,!0).on("mouseout",p,!0).on("dblclick",p),t.renderGuideLine=function(t){if(s){var e=v.select(".nv-interactiveGuideLine").selectAll("line").data(null!=t?[r.utils.NaNtoZero(t)]:[],String);e.enter().append("line").attr("class","nv-guideline").attr("x1",function(t){return t}).attr("x2",function(t){return t}).attr("y1",g).attr("y2",0),e.exit().remove()}})})}var e=r.models.tooltip(),n=null,o=null,a={left:0,top:0},i=d3.scale.linear(),l=(d3.scale.linear(),d3.dispatch("elementMousemove","elementMouseout","elementDblclick")),s=!0,c=null,u=-1!==navigator.userAgent.indexOf("MSIE");return t.dispatch=l,t.tooltip=e,t.margin=function(e){return arguments.length?(a.top=void 0!==e.top?e.top:a.top,a.left=void 0!==e.left?e.left:a.left,t):a},t.width=function(e){return arguments.length?(n=e,t):n},t.height=function(e){return arguments.length?(o=e,t):o},t.xScale=function(e){return arguments.length?(i=e,t):i},t.showGuideLine=function(e){return arguments.length?(s=e,t):s},t.svgContainer=function(e){return arguments.length?(c=e,t):c},t},r.interactiveBisect=function(t,e,n){"use strict";if(!t instanceof Array)return null;"function"!=typeof n&&(n=function(t,e){return t.x});var r=d3.bisector(n).left,o=d3.max([0,r(t,e)-1]),a=n(t[o],o);if(void 0===a&&(a=o),a===e)return o;var i=d3.min([o+1,t.length-1]),l=n(t[i],i);return void 0===l&&(l=i),Math.abs(l-e)>=Math.abs(a-e)?o:i},r.nearestValueIndex=function(t,e,n){"use strict";var r=1/0,o=null;return t.forEach(function(t,a){var i=Math.abs(e-t);i<=r&&i<n&&(r=i,o=a)}),o},function(){"use strict";window.nv.tooltip={},window.nv.models.tooltip=function(){function t(){if(p&&x(n)){!function(){if(c){var t=d3.select(c);"svg"!==t.node().tagName&&(t=t.select("svg"));var e=t.node()?t.attr("viewBox"):null;if(e){e=e.split(" ");var n=parseInt(t.style("width"))/e[2];d.left=d.left*n,d.top=d.top*n}}}();var e,g,v,y=d.left,b=null!=l?l:d.top,k=(e=m(n),null===(v=(g=c?d3.select(c):d3.select("body")).select(".nvtooltip")).node()&&(v=g.append("div").attr("class","nvtooltip "+(s||"xy-tooltip")).attr("id",f)),v.node().innerHTML=e,v.style("top",0).style("left",0).style("opacity",0),v.selectAll("div, table, td, tr").classed(h,!0),v.classed(h,!0),v.node());if(u=k,c){var w=c.getElementsByTagName("svg")[0],A=(w?w.getBoundingClientRect():c.getBoundingClientRect(),{left:0,top:0});if(w){var S=w.getBoundingClientRect(),C=c.getBoundingClientRect(),M=S.top;if(M<0){var D=c.getBoundingClientRect();M=Math.abs(M)>D.height?0:M}A.top=Math.abs(M-C.top),A.left=Math.abs(S.left-C.left)}y+=c.offsetLeft+A.left-2*c.scrollLeft,b+=c.offsetTop+A.top+14*c.scrollTop}return i&&i>0&&(b=Math.floor(b/i)*i),r.tooltip.calcTooltipPosition([y,b],o,a,k),t}}var e=null,n=null,o="w",a=50,i=25,l=null,s=null,c=null,u=null,d={left:null,top:null},p=!0,f="nvtooltip-"+Math.floor(1e5*Math.random()),h="nv-pointer-events-none",g=function(t,e){return t},v=function(t){return t},m=function(t){if(null!=e)return e;if(null==t)return"";var n=d3.select(document.createElement("table"));n.selectAll("thead").data([t]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(v(t.value));var r=n.selectAll("tbody").data([t]).enter().append("tbody").selectAll("tr").data(function(t){return t.series}).enter().append("tr").classed("highlight",function(t){return t.highlight});r.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(t){return t.color}),r.append("td").classed("key",!0).html(function(t){return t.key}),r.append("td").classed("value",!0).html(function(t,e){return g(t.value,e)}),r.selectAll("td").each(function(t){if(t.highlight){var e=d3.scale.linear().domain([0,1]).range(["#fff",t.color]);d3.select(this).style("border-bottom-color",e(.6)).style("border-top-color",e(.6))}});var o=n.node().outerHTML;return void 0!==t.footer&&(o+="<div class='footer'>"+t.footer+"</div>"),o},x=function(t){return!!(t&&t.series&&t.series.length>0)};return t.nvPointerEventsClass=h,t.content=function(n){return arguments.length?(e=n,t):e},t.tooltipElem=function(){return u},t.contentGenerator=function(e){return arguments.length?("function"==typeof e&&(m=e),t):m},t.data=function(e){return arguments.length?(n=e,t):n},t.gravity=function(e){return arguments.length?(o=e,t):o},t.distance=function(e){return arguments.length?(a=e,t):a},t.snapDistance=function(e){return arguments.length?(i=e,t):i},t.classes=function(e){return arguments.length?(s=e,t):s},t.chartContainer=function(e){return arguments.length?(c=e,t):c},t.position=function(e){return arguments.length?(d.left=void 0!==e.left?e.left:d.left,d.top=void 0!==e.top?e.top:d.top,t):d},t.fixedTop=function(e){return arguments.length?(l=e,t):l},t.enabled=function(e){return arguments.length?(p=e,t):p},t.valueFormatter=function(e){return arguments.length?("function"==typeof e&&(g=e),t):g},t.headerFormatter=function(e){return arguments.length?("function"==typeof e&&(v=e),t):v},t.id=function(){return f},t},r.tooltip.show=function(t,e,n,o,a,i){var l=document.createElement("div");l.className="nvtooltip "+(i||"xy-tooltip");var s=a;a&&!a.tagName.match(/g|svg/i)||(s=document.getElementsByTagName("body")[0]),l.style.left=0,l.style.top=0,l.style.opacity=0,l.innerHTML=e,s.appendChild(l),a&&(t[0]=t[0]-a.scrollLeft,t[1]=t[1]-a.scrollTop),r.tooltip.calcTooltipPosition(t,n,o,l)},r.tooltip.findFirstNonSVGParent=function(t){for(;null!==t.tagName.match(/^g|svg$/i);)t=t.parentNode;return t},r.tooltip.findTotalOffsetTop=function(t,e){var n=e;do{isNaN(t.offsetTop)||(n+=t.offsetTop)}while(t=t.offsetParent);return n},r.tooltip.findTotalOffsetLeft=function(t,e){var n=e;do{isNaN(t.offsetLeft)||(n+=t.offsetLeft)}while(t=t.offsetParent);return n},r.tooltip.calcTooltipPosition=function(t,e,n,o){var a,i,l=parseInt(o.offsetHeight),s=parseInt(o.offsetWidth),c=r.utils.windowSize().width,u=r.utils.windowSize().height,d=window.pageYOffset,p=window.pageXOffset;u=window.innerWidth>=document.body.scrollWidth?u:u-16,c=window.innerHeight>=document.body.scrollHeight?c:c-16,e=e||"s",n=n||20;var f=function(t){return r.tooltip.findTotalOffsetTop(t,i)},h=function(t){return r.tooltip.findTotalOffsetLeft(t,a)};switch(e){case"e":a=t[0]-s-n,i=t[1]-l/2;var g=h(o),v=f(o);g<p&&(a=t[0]+n>p?t[0]+n:p-g+a),v<d&&(i=d-v+i),v+l>d+u&&(i=d+u-v+i-l);break;case"w":a=t[0]+n,i=t[1]-l/2;g=h(o),v=f(o);g+s>c&&(a=t[0]-s-n),v<d&&(i=d+5),v+l>d+u&&(i=d+u-v+i-l);break;case"n":a=t[0]-s/2-5,i=t[1]+n;g=h(o),v=f(o);g<p&&(a=p+5),g+s>c&&(a=a-s/2+5),v+l>d+u&&(i=d+u-v+i-l);break;case"s":a=t[0]-s/2,i=t[1]-l-n;g=h(o),v=f(o);g<p&&(a=p+5),g+s>c&&(a=a-s/2+5),d>v&&(i=d);break;case"none":a=t[0],i=t[1]-n;g=h(o),v=f(o)}return o.style.left=a+"px",o.style.top=i+"px",o.style.opacity=1,o.style.position="absolute",o},r.tooltip.cleanup=function(){for(var t=document.getElementsByClassName("nvtooltip"),e=[];t.length;)e.push(t[0]),t[0].style.transitionDelay="0 !important",t[0].style.opacity=0,t[0].className="nvtooltip-pending-removal";setTimeout(function(){for(;e.length;){var t=e.pop();t.parentNode.removeChild(t)}},500)}}(),r.utils.windowSize=function(){var t={width:640,height:480};return document.body&&document.body.offsetWidth&&(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight),"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight),window.innerWidth&&window.innerHeight&&(t.width=window.innerWidth,t.height=window.innerHeight),t},r.utils.windowResize=function(t){if(void 0!==t){var e=window.onresize;window.onresize=function(n){"function"==typeof e&&e(n),t(n)}}},r.utils.getColor=function(t){return arguments.length?"[object Array]"===Object.prototype.toString.call(t)?function(e,n){return e.color||t[n%t.length]}:t:r.utils.defaultColor()},r.utils.defaultColor=function(){var t=d3.scale.category20().range();return function(e,n){return e.color||t[n%t.length]}},r.utils.customTheme=function(t,e,n){e=e||function(t){return t.key};var r=(n=n||d3.scale.category20().range()).length;return function(o,a){var i=e(o);return r||(r=n.length),void 0!==t[i]?"function"==typeof t[i]?t[i]():t[i]:n[--r]}},r.utils.pjax=function(t,e){function n(n){d3.html(n,function(n){var o=d3.select(e).node();o.parentNode.replaceChild(d3.select(n).select(e).node(),o),r.utils.pjax(t,e)})}d3.selectAll(t).on("click",function(){history.pushState(this.href,this.textContent,this.href),n(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&n(d3.event.state)})},r.utils.calcApproxTextWidth=function(t){if("function"==typeof t.style&&"function"==typeof t.text){var e=parseInt(t.style("font-size").replace("px",""));return t.text().length*e*.5}return 0},r.utils.NaNtoZero=function(t){return"number"!=typeof t||isNaN(t)||null===t||t===1/0?0:t},r.utils.optionsFunc=function(t){return t&&d3.map(t).forEach(function(t,e){"function"==typeof this[t]&&this[t](e)}.bind(this)),this},r.models.axis=function(){"use strict";function t(r){return r.each(function(t){var r=d3.select(this).selectAll("g.nv-wrap.nv-axis").data([t]),i=(r.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g"),r.select("g"));null!==g?n.ticks(g):("top"==n.orient()||"bottom"==n.orient())&&n.ticks(Math.abs(l.range()[1]-l.range()[0])/100),i.transition().call(n),e=e||n.scale();var m=n.tickFormat();null==m&&(m=e.tickFormat());var x=i.selectAll("text.nv-axislabel").data([s||null]);switch(x.exit().remove(),n.orient()){case"top":x.enter().append("text").attr("class","nv-axislabel");var y=2==l.range().length?l.range()[1]:l.range()[l.range().length-1]+(l.range()[1]-l.range()[0]);if(x.attr("text-anchor","middle").attr("y",0).attr("x",y/2),c)(S=r.selectAll("g.nv-axisMaxMin").data(l.domain())).enter().append("g").attr("class","nv-axisMaxMin").append("text"),S.exit().remove(),S.attr("transform",function(t,e){return"translate("+l(t)+",0)"}).select("text").attr("dy","-0.5em").attr("y",-n.tickPadding()).attr("text-anchor","middle").text(function(t,e){var n=m(t);return(""+n).match("NaN")?"":n}),S.transition().attr("transform",function(t,e){return"translate("+l.range()[e]+",0)"});break;case"bottom":var b=36,k=30,w=i.selectAll("g").select("text");if(d%360){w.each(function(t,e){var n=this.getBBox().width;n>k&&(k=n)});var A=Math.abs(Math.sin(d*Math.PI/180));b=(A?A*k:k)+30;w.attr("transform",function(t,e,n){return"rotate("+d+" 0,0)"}).style("text-anchor",d%360>0?"start":"end")}x.enter().append("text").attr("class","nv-axislabel");y=2==l.range().length?l.range()[1]:l.range()[l.range().length-1]+(l.range()[1]-l.range()[0]);if(x.attr("text-anchor","middle").attr("y",b).attr("x",y/2),c)(S=r.selectAll("g.nv-axisMaxMin").data([l.domain()[0],l.domain()[l.domain().length-1]])).enter().append("g").attr("class","nv-axisMaxMin").append("text"),S.exit().remove(),S.attr("transform",function(t,e){return"translate("+(l(t)+(h?l.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",n.tickPadding()).attr("transform",function(t,e,n){return"rotate("+d+" 0,0)"}).style("text-anchor",d?d%360>0?"start":"end":"middle").text(function(t,e){var n=m(t);return(""+n).match("NaN")?"":n}),S.transition().attr("transform",function(t,e){return"translate("+(l(t)+(h?l.rangeBand()/2:0))+",0)"});f&&w.attr("transform",function(t,e){return"translate(0,"+(e%2==0?"0":"12")+")"});break;case"right":if(x.enter().append("text").attr("class","nv-axislabel"),x.style("text-anchor",p?"middle":"begin").attr("transform",p?"rotate(90)":"").attr("y",p?12-Math.max(o.right,a):-10).attr("x",p?l.range()[0]/2:n.tickPadding()),c)(S=r.selectAll("g.nv-axisMaxMin").data(l.domain())).enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),S.exit().remove(),S.attr("transform",function(t,e){return"translate(0,"+l(t)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",n.tickPadding()).style("text-anchor","start").text(function(t,e){var n=m(t);return(""+n).match("NaN")?"":n}),S.transition().attr("transform",function(t,e){return"translate(0,"+l.range()[e]+")"}).select("text").style("opacity",1);break;case"left":var S;if(x.enter().append("text").attr("class","nv-axislabel"),x.style("text-anchor",p?"middle":"end").attr("transform",p?"rotate(-90)":"").attr("y",p?-Math.max(o.left,a)+v:-10).attr("x",p?-l.range()[0]/2:-n.tickPadding()),c)(S=r.selectAll("g.nv-axisMaxMin").data(l.domain())).enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),S.exit().remove(),S.attr("transform",function(t,n){return"translate(0,"+e(t)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-n.tickPadding()).attr("text-anchor","end").text(function(t,e){var n=m(t);return(""+n).match("NaN")?"":n}),S.transition().attr("transform",function(t,e){return"translate(0,"+l.range()[e]+")"}).select("text").style("opacity",1)}if(x.text(function(t){return t}),c&&("left"===n.orient()||"right"===n.orient())&&(i.selectAll("g").each(function(t,e){d3.select(this).select("text").attr("opacity",1),(l(t)<l.range()[1]+10||l(t)>l.range()[0]-10)&&((t>1e-10||t<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),l.domain()[0]==l.domain()[1]&&0==l.domain()[0]&&r.selectAll("g.nv-axisMaxMin").style("opacity",function(t,e){return e?0:1})),c&&("top"===n.orient()||"bottom"===n.orient())){var C=[];r.selectAll("g.nv-axisMaxMin").each(function(t,e){try{e?C.push(l(t)-this.getBBox().width-4):C.push(l(t)+this.getBBox().width+4)}catch(n){e?C.push(l(t)-4):C.push(l(t)+4)}}),i.selectAll("g").each(function(t,e){(l(t)<C[0]||l(t)>C[1])&&(t>1e-10||t<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())})}u&&i.selectAll(".tick").filter(function(t){return!parseFloat(Math.round(1e5*t.__data__)/1e6)&&void 0!==t.__data__}).classed("zero",!0),e=l.copy()}),t}var e,n=d3.svg.axis(),o={top:0,right:0,bottom:0,left:0},a=75,i=60,l=d3.scale.linear(),s=null,c=!0,u=!0,d=0,p=!0,f=!1,h=!1,g=null,v=12;return n.scale(l).orient("bottom").tickFormat(function(t){return t}),t.axis=n,d3.rebind(t,n,"orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"),d3.rebind(t,l,"domain","range","rangeBand","rangeBands"),t.options=r.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(o.top=void 0!==e.top?e.top:o.top,o.right=void 0!==e.right?e.right:o.right,o.bottom=void 0!==e.bottom?e.bottom:o.bottom,o.left=void 0!==e.left?e.left:o.left,t):o},t.width=function(e){return arguments.length?(a=e,t):a},t.ticks=function(e){return arguments.length?(g=e,t):g},t.height=function(e){return arguments.length?(i=e,t):i},t.axisLabel=function(e){return arguments.length?(s=e,t):s},t.showMaxMin=function(e){return arguments.length?(c=e,t):c},t.highlightZero=function(e){return arguments.length?(u=e,t):u},t.scale=function(e){return arguments.length?(l=e,n.scale(l),h="function"==typeof l.rangeBands,d3.rebind(t,l,"domain","range","rangeBand","rangeBands"),t):l},t.rotateYLabel=function(e){return arguments.length?(p=e,t):p},t.rotateLabels=function(e){return arguments.length?(d=e,t):d},t.staggerLabels=function(e){return arguments.length?(f=e,t):f},t.axisLabelDistance=function(e){return arguments.length?(v=e,t):v},t},r.models.bullet=function(){"use strict";function t(n){return n.each(function(t,n){var r=p-e.left-e.right,h=f-e.top-e.bottom,m=d3.select(this),x=a.call(this,t,n).slice().sort(d3.descending),y=i.call(this,t,n).slice().sort(d3.descending),b=l.call(this,t,n).slice().sort(d3.descending),k=s.call(this,t,n).slice(),w=c.call(this,t,n).slice(),A=u.call(this,t,n).slice(),S=d3.scale.linear().domain(d3.extent(d3.merge([d,x]))).range(o?[r,0]:[0,r]);this.__chart__||d3.scale.linear().domain([0,1/0]).range(S.range());this.__chart__=S;var C=d3.min(x),M=d3.max(x),D=x[1],I=m.selectAll("g.nv-wrap.nv-bullet").data([t]),W=I.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),z=I.select("g");W.append("rect").attr("class","nv-range nv-rangeMax"),W.append("rect").attr("class","nv-range nv-rangeAvg"),W.append("rect").attr("class","nv-range nv-rangeMin"),W.append("rect").attr("class","nv-measure"),W.append("path").attr("class","nv-markerTriangle"),I.attr("transform","translate("+e.left+","+e.top+")");var F=function(t){return Math.abs(S(t)-S(0))},N=function(t){return S(t<0?t:0)};z.select("rect.nv-rangeMax").attr("height",h).attr("width",F(M>0?M:C)).attr("x",N(M>0?M:C)).datum(M>0?M:C),z.select("rect.nv-rangeAvg").attr("height",h).attr("width",F(D)).attr("x",N(D)).datum(D),z.select("rect.nv-rangeMin").attr("height",h).attr("width",F(M)).attr("x",N(M)).attr("width",F(M>0?C:M)).attr("x",N(M>0?C:M)).datum(M>0?C:M),z.select("rect.nv-measure").style("fill",g).attr("height",h/3).attr("y",h/3).attr("width",b<0?S(0)-S(b[0]):S(b[0])-S(0)).attr("x",N(b)).on("mouseover",function(){v.elementMouseover({value:b[0],label:A[0]||"Current",pos:[S(b[0]),h/2]})}).on("mouseout",function(){v.elementMouseout({value:b[0],label:A[0]||"Current"})});var L=h/6;y[0]?z.selectAll("path.nv-markerTriangle").attr("transform",function(t){return"translate("+S(y[0])+","+h/2+")"}).attr("d","M0,"+L+"L"+L+","+-L+" "+-L+","+-L+"Z").on("mouseover",function(){v.elementMouseover({value:y[0],label:w[0]||"Previous",pos:[S(y[0]),h/2]})}).on("mouseout",function(){v.elementMouseout({value:y[0],label:w[0]||"Previous"})}):z.selectAll("path.nv-markerTriangle").remove(),I.selectAll(".nv-range").on("mouseover",function(t,e){var n=k[e]||(e?1==e?"Mean":"Minimum":"Maximum");v.elementMouseover({value:t,label:n,pos:[S(t),h/2]})}).on("mouseout",function(t,e){var n=k[e]||(e?1==e?"Mean":"Minimum":"Maximum");v.elementMouseout({value:t,label:n})})}),t}var e={top:0,right:0,bottom:0,left:0},n="left",o=!1,a=function(t){return t.ranges},i=function(t){return t.markers},l=function(t){return t.measures},s=function(t){return t.rangeLabels?t.rangeLabels:[]},c=function(t){return t.markerLabels?t.markerLabels:[]},u=function(t){return t.measureLabels?t.measureLabels:[]},d=[0],p=380,f=30,h=null,g=r.utils.getColor(["#1f77b4"]),v=d3.dispatch("elementMouseover","elementMouseout");return t.dispatch=v,t.options=r.utils.optionsFunc.bind(t),t.orient=function(e){return arguments.length?(o="right"==(n=e)||"bottom"==n,t):n},t.ranges=function(e){return arguments.length?(a=e,t):a},t.markers=function(e){return arguments.length?(i=e,t):i},t.measures=function(e){return arguments.length?(l=e,t):l},t.forceX=function(e){return arguments.length?(d=e,t):d},t.width=function(e){return arguments.length?(p=e,t):p},t.height=function(e){return arguments.length?(f=e,t):f},t.margin=function(n){return arguments.length?(e.top=void 0!==n.top?n.top:e.top,e.right=void 0!==n.right?n.right:e.right,e.bottom=void 0!==n.bottom?n.bottom:e.bottom,e.left=void 0!==n.left?n.left:e.left,t):e},t.tickFormat=function(e){return arguments.length?(h=e,t):h},t.color=function(e){return arguments.length?(g=r.utils.getColor(e),t):g},t},r.models.bulletChart=function(){"use strict";function t(n){return n.each(function(r,f){var m=d3.select(this),x=(c||parseInt(m.style("width"))||960)-a.left-a.right,y=u-a.top-a.bottom,b=this;if(t.update=function(){t(n)},t.container=this,!r||!i.call(this,r,f)){var k=m.selectAll(".nv-noData").data([h]);return k.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),k.attr("x",a.left+x/2).attr("y",18+a.top+y/2).text(function(t){return t}),t}m.selectAll(".nv-noData").remove();var w=i.call(this,r,f).slice().sort(d3.descending),A=l.call(this,r,f).slice().sort(d3.descending),S=s.call(this,r,f).slice().sort(d3.descending),C=m.selectAll("g.nv-wrap.nv-bulletChart").data([r]),M=C.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),D=C.select("g");M.append("g").attr("class","nv-bulletWrap"),M.append("g").attr("class","nv-titles"),C.attr("transform","translate("+a.left+","+a.top+")");var I=d3.scale.linear().domain([0,Math.max(w[0],A[0],S[0])]).range(o?[x,0]:[0,x]),W=this.__chart__||d3.scale.linear().domain([0,1/0]).range(I.range());this.__chart__=I;var z=M.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(u-a.top-a.bottom)/2+")");z.append("text").attr("class","nv-title").text(function(t){return t.title}),z.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(t){return t.subtitle}),e.width(x).height(y);var F=D.select(".nv-bulletWrap");d3.transition(F).call(e);var N=d||I.tickFormat(x/100),L=D.selectAll("g.nv-tick").data(I.ticks(x/50),function(t){return this.textContent||N(t)}),B=L.enter().append("g").attr("class","nv-tick").attr("transform",function(t){return"translate("+W(t)+",0)"}).style("opacity",1e-6);B.append("line").attr("y1",y).attr("y2",7*y/6),B.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*y/6).text(N);var H=d3.transition(L).attr("transform",function(t){return"translate("+I(t)+",0)"}).style("opacity",1);H.select("line").attr("y1",y).attr("y2",7*y/6),H.select("text").attr("y",7*y/6),d3.transition(L.exit()).attr("transform",function(t){return"translate("+I(t)+",0)"}).style("opacity",1e-6).remove(),g.on("tooltipShow",function(t){t.key=r.title,p&&v(t,b.parentNode)})}),d3.timer.flush(),t}var e=r.models.bullet(),n="left",o=!1,a={top:5,right:40,bottom:20,left:120},i=function(t){return t.ranges},l=function(t){return t.markers},s=function(t){return t.measures},c=null,u=55,d=null,p=!0,f=function(t,e,n,r,o){return"<h3>"+e+"</h3><p>"+n+"</p>"},h="No Data Available.",g=d3.dispatch("tooltipShow","tooltipHide"),v=function(e,n){var o=e.pos[0]+(n.offsetLeft||0)+a.left,i=e.pos[1]+(n.offsetTop||0)+a.top,l=f(e.key,e.label,e.value,e,t);r.tooltip.show([o,i],l,e.value<0?"e":"w",null,n)};return e.dispatch.on("elementMouseover.tooltip",function(t){g.tooltipShow(t)}),e.dispatch.on("elementMouseout.tooltip",function(t){g.tooltipHide(t)}),g.on("tooltipHide",function(){p&&r.tooltip.cleanup()}),t.dispatch=g,t.bullet=e,d3.rebind(t,e,"color"),t.options=r.utils.optionsFunc.bind(t),t.orient=function(e){return arguments.length?(o="right"==(n=e)||"bottom"==n,t):n},t.ranges=function(e){return arguments.length?(i=e,t):i},t.markers=function(e){return arguments.length?(l=e,t):l},t.measures=function(e){return arguments.length?(s=e,t):s},t.width=function(e){return arguments.length?(c=e,t):c},t.height=function(e){return arguments.length?(u=e,t):u},t.margin=function(e){return arguments.length?(a.top=void 0!==e.top?e.top:a.top,a.right=void 0!==e.right?e.right:a.right,a.bottom=void 0!==e.bottom?e.bottom:a.bottom,a.left=void 0!==e.left?e.left:a.left,t):a},t.tickFormat=function(e){return arguments.length?(d=e,t):d},t.tooltips=function(e){return arguments.length?(p=e,t):p},t.tooltipContent=function(e){return arguments.length?(f=e,t):f},t.noData=function(e){return arguments.length?(h=e,t):h},t},r.models.cumulativeLineChart=function(){"use strict";function t(w){return w.each(function(w){function B(){et.data([N]);var e=t.transitionDuration();t.transitionDuration(0),t.update(),t.transitionDuration(e)}var H=d3.select(this).classed("nv-chart-"+A,!0),P=this,T=(p||parseInt(H.style("width"))||960)-u.left-u.right,E=(f||parseInt(H.style("height"))||400)-u.top-u.bottom;if(t.update=function(){H.transition().duration(W).call(t)},t.container=this,S.disabled=w.map(function(t){return!!t.disabled}),!C){var Y;C={};for(Y in S)S[Y]instanceof Array?C[Y]=S[Y].slice(0):C[Y]=S[Y]}var R=d3.behavior.drag().on("dragstart",function(e,n){d3.select(t.container).style("cursor","ew-resize")}).on("drag",function(t,e){N.x=d3.event.x,N.i=Math.round(F.invert(N.x)),B()}).on("dragend",function(e,n){d3.select(t.container).style("cursor","auto"),S.index=N.i,I.stateChange(S)});if(!w||!w.length||!w.filter(function(t){return t.values.length}).length){var V=H.selectAll(".nv-noData").data([M]);return V.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),V.attr("x",u.left+T/2).attr("y",u.top+E/2).text(function(t){return t}),t}if(H.selectAll(".nv-noData").remove(),e=o.xScale(),n=o.yScale(),k)o.yDomain(null);else{var _=w.filter(function(t){return!t.disabled}).map(function(t,e){var n=d3.extent(t.values,o.y());return n[0]<-.95&&(n[0]=-.95),[(n[0]-n[1])/(1+n[1]),(n[1]-n[0])/(1+n[0])]}),X=[d3.min(_,function(t){return t[0]}),d3.max(_,function(t){return t[1]})];o.yDomain(X)}F.domain([0,w[0].values.length-1]).range([0,T]).clamp(!0);Z=N.i,w=w.map(function(t,e){if(!t.values)return t;var n=o.y()(t.values[Z],Z);return n<-.95&&!z?(t.tempDisabled=!0,t):(t.tempDisabled=!1,t.values=t.values.map(function(t,e){return t.display={y:(o.y()(t,e)-n)/(1+n)},t}),t)});var Z,G=b?"none":"all",O=H.selectAll("g.nv-wrap.nv-cumulativeLine").data([w]),K=O.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),j=O.select("g");if(K.append("g").attr("class","nv-interactive"),K.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),K.append("g").attr("class","nv-y nv-axis"),K.append("g").attr("class","nv-background"),K.append("g").attr("class","nv-linesWrap").style("pointer-events",G),K.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),K.append("g").attr("class","nv-legendWrap"),K.append("g").attr("class","nv-controlsWrap"),h&&(l.width(T),j.select(".nv-legendWrap").datum(w).call(l),u.top!=l.height()&&(u.top=l.height(),E=(f||parseInt(H.style("height"))||400)-u.top-u.bottom),j.select(".nv-legendWrap").attr("transform","translate(0,"+-u.top+")")),y){var q=[{key:"Re-scale y-axis",disabled:!k}];s.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),j.select(".nv-controlsWrap").datum(q).attr("transform","translate(0,"+-u.top+")").call(s)}O.attr("transform","translate("+u.left+","+u.top+")"),m&&j.select(".nv-y.nv-axis").attr("transform","translate("+T+",0)");var U=w.filter(function(t){return t.tempDisabled});O.select(".tempDisabled").remove(),U.length&&O.append("text").attr("class","tempDisabled").attr("x",T/2).attr("y","-.71em").style("text-anchor","end").text(U.map(function(t){return t.key}).join(", ")+" values cannot be calculated for this time period."),b&&(c.width(T).height(E).margin({left:u.left,top:u.top}).svgContainer(H).xScale(e),O.select(".nv-interactive").call(c)),K.select(".nv-background").append("rect"),j.select(".nv-background rect").attr("width",T).attr("height",E),o.y(function(t){return t.display.y}).width(T).height(E).color(w.map(function(t,e){return t.color||d(t,e)}).filter(function(t,e){return!w[e].disabled&&!w[e].tempDisabled}));var $=j.select(".nv-linesWrap").datum(w.filter(function(t){return!t.disabled&&!t.tempDisabled}));$.call(o),w.forEach(function(t,e){t.seriesIndex=e});var J=w.filter(function(t){return!t.disabled&&!!D(t)}),Q=j.select(".nv-avgLinesWrap").selectAll("line").data(J,function(t){return t.key}),tt=function(t){var e=n(D(t));return e<0?0:e>E?E:e};Q.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(t,e){return o.color()(t,t.seriesIndex)}).attr("x1",0).attr("x2",T).attr("y1",tt).attr("y2",tt),Q.style("stroke-opacity",function(t){var e=n(D(t));return e<0||e>E?0:1}).attr("x1",0).attr("x2",T).attr("y1",tt).attr("y2",tt),Q.exit().remove();var et=$.selectAll(".nv-indexLine").data([N]);et.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(R),et.attr("transform",function(t){return"translate("+F(t.i)+",0)"}).attr("height",E),g&&(a.scale(e).ticks(Math.min(w[0].values.length,T/70)).tickSize(-E,0),j.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")"),d3.transition(j.select(".nv-x.nv-axis")).call(a)),v&&(i.scale(n).ticks(E/36).tickSize(-T,0),d3.transition(j.select(".nv-y.nv-axis")).call(i)),j.select(".nv-background rect").on("click",function(){N.x=d3.mouse(this)[0],N.i=Math.round(F.invert(N.x)),S.index=N.i,I.stateChange(S),B()}),o.dispatch.on("elementClick",function(t){N.i=t.pointIndex,N.x=F(N.i),S.index=N.i,I.stateChange(S),B()}),s.dispatch.on("legendClick",function(e,n){e.disabled=!e.disabled,k=!e.disabled,S.rescaleY=k,I.stateChange(S),t.update()}),l.dispatch.on("stateChange",function(e){S.disabled=e.disabled,I.stateChange(S),t.update()}),c.dispatch.on("elementMousemove",function(e){o.clearHighlights();var n,l,s,p=[];if(w.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(a,i){l=r.interactiveBisect(a.values,e.pointXValue,t.x()),o.highlightPoint(i,l,!0);var c=a.values[l];void 0!==c&&(void 0===n&&(n=c),void 0===s&&(s=t.xScale()(t.x()(c,l))),p.push({key:a.key,value:t.y()(c,l),color:d(a,a.seriesIndex)}))}),p.length>2){var f=t.yScale().invert(e.mouseY),h=.03*Math.abs(t.yScale().domain()[0]-t.yScale().domain()[1]),g=r.nearestValueIndex(p.map(function(t){return t.value}),f,h);null!==g&&(p[g].highlight=!0)}var v=a.tickFormat()(t.x()(n,l),l);c.tooltip.position({left:s+u.left,top:e.mouseY+u.top}).chartContainer(P.parentNode).enabled(x).valueFormatter(function(t,e){return i.tickFormat()(t)}).data({value:v,series:p})(),c.renderGuideLine(s)}),c.dispatch.on("elementMouseout",function(t){I.tooltipHide(),o.clearHighlights()}),I.on("tooltipShow",function(t){x&&L(t,P.parentNode)}),I.on("changeState",function(e){void 0!==e.disabled&&(w.forEach(function(t,n){t.disabled=e.disabled[n]}),S.disabled=e.disabled),void 0!==e.index&&(N.i=e.index,N.x=F(N.i),S.index=e.index,et.data([N])),void 0!==e.rescaleY&&(k=e.rescaleY),t.update()})}),t}var e,n,o=r.models.line(),a=r.models.axis(),i=r.models.axis(),l=r.models.legend(),s=r.models.legend(),c=r.interactiveGuideline(),u={top:30,right:30,bottom:50,left:60},d=r.utils.defaultColor(),p=null,f=null,h=!0,g=!0,v=!0,m=!1,x=!0,y=!0,b=!1,k=!0,w=function(t,e,n,r,o){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},A=o.id(),S={index:0,rescaleY:k},C=null,M="No Data Available.",D=function(t){return t.average},I=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),W=250,z=!1;a.orient("bottom").tickPadding(7),i.orient(m?"right":"left"),s.updateState(!1);var F=d3.scale.linear(),N={i:0,x:0},L=function(e,n){var l=e.pos[0]+(n.offsetLeft||0),s=e.pos[1]+(n.offsetTop||0),c=a.tickFormat()(o.x()(e.point,e.pointIndex)),u=i.tickFormat()(o.y()(e.point,e.pointIndex)),d=w(e.series.key,c,u,e,t);r.tooltip.show([l,s],d,null,null,n)};return o.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+u.left,t.pos[1]+u.top],I.tooltipShow(t)}),o.dispatch.on("elementMouseout.tooltip",function(t){I.tooltipHide(t)}),I.on("tooltipHide",function(){x&&r.tooltip.cleanup()}),t.dispatch=I,t.lines=o,t.legend=l,t.xAxis=a,t.yAxis=i,t.interactiveLayer=c,d3.rebind(t,o,"defined","isArea","x","y","xScale","yScale","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","useVoronoi","id"),t.options=r.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(u.top=void 0!==e.top?e.top:u.top,u.right=void 0!==e.right?e.right:u.right,u.bottom=void 0!==e.bottom?e.bottom:u.bottom,u.left=void 0!==e.left?e.left:u.left,t):u},t.width=function(e){return arguments.length?(p=e,t):p},t.height=function(e){return arguments.length?(f=e,t):f},t.color=function(e){return arguments.length?(d=r.utils.getColor(e),l.color(d),t):d},t.rescaleY=function(e){return arguments.length?(k=e,t):k},t.showControls=function(e){return arguments.length?(y=e,t):y},t.useInteractiveGuideline=function(e){return arguments.length?(b=e,!0===e&&(t.interactive(!1),t.useVoronoi(!1)),t):b},t.showLegend=function(e){return arguments.length?(h=e,t):h},t.showXAxis=function(e){return arguments.length?(g=e,t):g},t.showYAxis=function(e){return arguments.length?(v=e,t):v},t.rightAlignYAxis=function(e){return arguments.length?(m=e,i.orient(e?"right":"left"),t):m},t.tooltips=function(e){return arguments.length?(x=e,t):x},t.tooltipContent=function(e){return arguments.length?(w=e,t):w},t.state=function(e){return arguments.length?(S=e,t):S},t.defaultState=function(e){return arguments.length?(C=e,t):C},t.noData=function(e){return arguments.length?(M=e,t):M},t.average=function(e){return arguments.length?(D=e,t):D},t.transitionDuration=function(e){return arguments.length?(W=e,t):W},t.noErrorCheck=function(e){return arguments.length?(z=e,t):z},t},r.models.discreteBar=function(){"use strict";function t(r){return r.each(function(t){var r=c-s.left-s.right,d=u-s.top-s.bottom,w=d3.select(this);t.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var A=e&&n?[]:t.map(function(t){return t.values.map(function(t,e){return{x:h(t,e),y:g(t,e),y0:t.y0}})});p.domain(e||d3.merge(A).map(function(t){return t.x})).rangeBands(o||[0,r],.1),f.domain(n||d3.extent(d3.merge(A).map(function(t){return t.y}).concat(v))),x?f.range(a||[d-(f.domain()[0]<0?12:0),f.domain()[1]>0?12:0]):f.range(a||[d,0]),i=i||p,l=l||f.copy().range([f(0),f(0)]);var S=w.selectAll("g.nv-wrap.nv-discretebar").data([t]),C=S.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g");S.select("g");C.append("g").attr("class","nv-groups"),S.attr("transform","translate("+s.left+","+s.top+")");var M=S.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});M.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),M.exit().transition().style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),M.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),M.transition().style("stroke-opacity",1).style("fill-opacity",.75);var D=M.selectAll("g.nv-bar").data(function(t){return t.values});D.exit().remove();var I=D.enter().append("g").attr("transform",function(t,e,n){return"translate("+(p(h(t,e))+.05*p.rangeBand())+", "+f(0)+")"}).on("mouseover",function(e,n){d3.select(this).classed("hover",!0),b.elementMouseover({value:g(e,n),point:e,series:t[e.series],pos:[p(h(e,n))+p.rangeBand()*(e.series+.5)/t.length,f(g(e,n))],pointIndex:n,seriesIndex:e.series,e:d3.event})}).on("mouseout",function(e,n){d3.select(this).classed("hover",!1),b.elementMouseout({value:g(e,n),point:e,series:t[e.series],pointIndex:n,seriesIndex:e.series,e:d3.event})}).on("click",function(e,n){b.elementClick({value:g(e,n),point:e,series:t[e.series],pos:[p(h(e,n))+p.rangeBand()*(e.series+.5)/t.length,f(g(e,n))],pointIndex:n,seriesIndex:e.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(e,n){b.elementDblClick({value:g(e,n),point:e,series:t[e.series],pos:[p(h(e,n))+p.rangeBand()*(e.series+.5)/t.length,f(g(e,n))],pointIndex:n,seriesIndex:e.series,e:d3.event}),d3.event.stopPropagation()});I.append("rect").attr("height",0).attr("width",.9*p.rangeBand()/t.length),x?(I.append("text").attr("text-anchor","middle"),D.select("text").text(function(t,e){return y(g(t,e))}).transition().attr("x",.9*p.rangeBand()/2).attr("y",function(t,e){return g(t,e)<0?f(g(t,e))-f(0)+12:-4})):D.selectAll("text").remove(),D.attr("class",function(t,e){return g(t,e)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(t,e){return t.color||m(t,e)}).style("stroke",function(t,e){return t.color||m(t,e)}).select("rect").attr("class",k).transition().attr("width",.9*p.rangeBand()/t.length),D.transition().attr("transform",function(t,e){return"translate("+(p(h(t,e))+.05*p.rangeBand())+", "+(g(t,e)<0?f(0):f(0)-f(g(t,e))<1?f(0)-1:f(g(t,e)))+")"}).select("rect").attr("height",function(t,e){return Math.max(Math.abs(f(g(t,e))-f(n&&n[0]||0))||1)}),i=p.copy(),l=f.copy()}),t}var e,n,o,a,i,l,s={top:0,right:0,bottom:0,left:0},c=960,u=500,d=Math.floor(1e4*Math.random()),p=d3.scale.ordinal(),f=d3.scale.linear(),h=function(t){return t.x},g=function(t){return t.y},v=[0],m=r.utils.defaultColor(),x=!1,y=d3.format(",.2f"),b=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),k="discreteBar";return t.dispatch=b,t.options=r.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(h=e,t):h},t.y=function(e){return arguments.length?(g=e,t):g},t.margin=function(e){return arguments.length?(s.top=void 0!==e.top?e.top:s.top,s.right=void 0!==e.right?e.right:s.right,s.bottom=void 0!==e.bottom?e.bottom:s.bottom,s.left=void 0!==e.left?e.left:s.left,t):s},t.width=function(e){return arguments.length?(c=e,t):c},t.height=function(e){return arguments.length?(u=e,t):u},t.xScale=function(e){return arguments.length?(p=e,t):p},t.yScale=function(e){return arguments.length?(f=e,t):f},t.xDomain=function(n){return arguments.length?(e=n,t):e},t.yDomain=function(e){return arguments.length?(n=e,t):n},t.xRange=function(e){return arguments.length?(o=e,t):o},t.yRange=function(e){return arguments.length?(a=e,t):a},t.forceY=function(e){return arguments.length?(v=e,t):v},t.color=function(e){return arguments.length?(m=r.utils.getColor(e),t):m},t.id=function(e){return arguments.length?(d=e,t):d},t.showValues=function(e){return arguments.length?(x=e,t):x},t.valueFormat=function(e){return arguments.length?(y=e,t):y},t.rectClass=function(e){return arguments.length?(k=e,t):k},t},r.models.discreteBarChart=function(){"use strict";function t(r){return r.each(function(r){var u=d3.select(this),v=this,k=(s||parseInt(u.style("width"))||960)-l.left-l.right,w=(c||parseInt(u.style("height"))||400)-l.top-l.bottom;if(t.update=function(){x.beforeUpdate(),u.transition().duration(y).call(t)},t.container=this,!r||!r.length||!r.filter(function(t){return t.values.length}).length){var A=u.selectAll(".nv-noData").data([m]);return A.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),A.attr("x",l.left+k/2).attr("y",l.top+w/2).text(function(t){return t}),t}u.selectAll(".nv-noData").remove(),e=o.xScale(),n=o.yScale().clamp(!0);var S=u.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([r]),C=S.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),M=C.append("defs"),D=S.select("g");if(C.append("g").attr("class","nv-x nv-axis"),C.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),C.append("g").attr("class","nv-barsWrap"),D.attr("transform","translate("+l.left+","+l.top+")"),f&&D.select(".nv-y.nv-axis").attr("transform","translate("+k+",0)"),o.width(k).height(w),D.select(".nv-barsWrap").datum(r.filter(function(t){return!t.disabled})).transition().call(o),M.append("clipPath").attr("id","nv-x-label-clip-"+o.id()).append("rect"),D.select("#nv-x-label-clip-"+o.id()+" rect").attr("width",e.rangeBand()*(h?2:1)).attr("height",16).attr("x",-e.rangeBand()/(h?1:2)),d){a.scale(e).ticks(k/100).tickSize(-w,0),D.select(".nv-x.nv-axis").attr("transform","translate(0,"+(n.range()[0]+(o.showValues()&&n.domain()[0]<0?16:0))+")"),D.select(".nv-x.nv-axis").transition().call(a);var I=D.select(".nv-x.nv-axis").selectAll("g");h&&I.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"})}p&&(i.scale(n).ticks(w/36).tickSize(-k,0),D.select(".nv-y.nv-axis").transition().call(i)),D.select(".nv-zeroLine line").attr("x1",0).attr("x2",k).attr("y1",n(0)).attr("y2",n(0)),x.on("tooltipShow",function(t){g&&b(t,v.parentNode)})}),t}var e,n,o=r.models.discreteBar(),a=r.models.axis(),i=r.models.axis(),l={top:15,right:10,bottom:50,left:60},s=null,c=null,u=r.utils.getColor(),d=!0,p=!0,f=!1,h=!1,g=!0,v=function(t,e,n,r,o){return"<h3>"+e+"</h3><p>"+n+"</p>"},m="No Data Available.",x=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate"),y=250;a.orient("bottom").highlightZero(!1).showMaxMin(!1).tickFormat(function(t){return t}),i.orient(f?"right":"left").tickFormat(d3.format(",.1f"));var b=function(e,n){var l=e.pos[0]+(n.offsetLeft||0),s=e.pos[1]+(n.offsetTop||0),c=a.tickFormat()(o.x()(e.point,e.pointIndex)),u=i.tickFormat()(o.y()(e.point,e.pointIndex)),d=v(e.series.key,c,u,e,t);r.tooltip.show([l,s],d,e.value<0?"n":"s",null,n)};return o.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+l.left,t.pos[1]+l.top],x.tooltipShow(t)}),o.dispatch.on("elementMouseout.tooltip",function(t){x.tooltipHide(t)}),x.on("tooltipHide",function(){g&&r.tooltip.cleanup()}),t.dispatch=x,t.discretebar=o,t.xAxis=a,t.yAxis=i,d3.rebind(t,o,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","id","showValues","valueFormat"),t.options=r.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(l.top=void 0!==e.top?e.top:l.top,l.right=void 0!==e.right?e.right:l.right,l.bottom=void 0!==e.bottom?e.bottom:l.bottom,l.left=void 0!==e.left?e.left:l.left,t):l},t.width=function(e){return arguments.length?(s=e,t):s},t.height=function(e){return arguments.length?(c=e,t):c},t.color=function(e){return arguments.length?(u=r.utils.getColor(e),o.color(u),t):u},t.showXAxis=function(e){return arguments.length?(d=e,t):d},t.showYAxis=function(e){return arguments.length?(p=e,t):p},t.rightAlignYAxis=function(e){return arguments.length?(f=e,i.orient(e?"right":"left"),t):f},t.staggerLabels=function(e){return arguments.length?(h=e,t):h},t.tooltips=function(e){return arguments.length?(g=e,t):g},t.tooltipContent=function(e){return arguments.length?(v=e,t):v},t.noData=function(e){return arguments.length?(m=e,t):m},t.transitionDuration=function(e){return arguments.length?(y=e,t):y},t},r.models.distribution=function(){"use strict";function t(r){return r.each(function(t){"x"===i?(n.left,n.right):(n.top,n.bottom);var r="x"==i?"y":"x",o=d3.select(this);e=e||c;var u=o.selectAll("g.nv-distribution").data([t]),d=(u.enter().append("g").attr("class","nvd3 nv-distribution").append("g"),u.select("g"));u.attr("transform","translate("+n.left+","+n.top+")");var p=d.selectAll("g.nv-dist").data(function(t){return t},function(t){return t.key});p.enter().append("g"),p.attr("class",function(t,e){return"nv-dist nv-series-"+e}).style("stroke",function(t,e){return s(t,e)});var f=p.selectAll("line.nv-dist"+i).data(function(t){return t.values});f.enter().append("line").attr(i+"1",function(t,n){return e(l(t,n))}).attr(i+"2",function(t,n){return e(l(t,n))}),p.exit().selectAll("line.nv-dist"+i).transition().attr(i+"1",function(t,e){return c(l(t,e))}).attr(i+"2",function(t,e){return c(l(t,e))}).style("stroke-opacity",0).remove(),f.attr("class",function(t,e){return"nv-dist"+i+" nv-dist"+i+"-"+e}).attr(r+"1",0).attr(r+"2",a),f.transition().attr(i+"1",function(t,e){return c(l(t,e))}).attr(i+"2",function(t,e){return c(l(t,e))}),e=c.copy()}),t}var e,n={top:0,right:0,bottom:0,left:0},o=400,a=8,i="x",l=function(t){return t[i]},s=r.utils.defaultColor(),c=d3.scale.linear();return t.options=r.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(n.top=void 0!==e.top?e.top:n.top,n.right=void 0!==e.right?e.right:n.right,n.bottom=void 0!==e.bottom?e.bottom:n.bottom,n.left=void 0!==e.left?e.left:n.left,t):n},t.width=function(e){return arguments.length?(o=e,t):o},t.axis=function(e){return arguments.length?(i=e,t):i},t.size=function(e){return arguments.length?(a=e,t):a},t.getData=function(e){return arguments.length?(l=d3.functor(e),t):l},t.scale=function(e){return arguments.length?(c=e,t):c},t.color=function(e){return arguments.length?(s=r.utils.getColor(e),t):s},t},r.models.historicalBar=function(){"use strict";function t(k){return k.each(function(t){var k=l-i.left-i.right,w=s-i.top-i.bottom,A=d3.select(this);u.domain(e||d3.extent(t[0].values.map(p).concat(h))),v?u.range(o||[.5*k/t[0].values.length,k*(t[0].values.length-.5)/t[0].values.length]):u.range(o||[0,k]),d.domain(n||d3.extent(t[0].values.map(f).concat(g))).range(a||[w,0]),u.domain()[0]===u.domain()[1]&&(u.domain()[0]?u.domain([u.domain()[0]-.01*u.domain()[0],u.domain()[1]+.01*u.domain()[1]]):u.domain([-1,1])),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+.01*d.domain()[0],d.domain()[1]-.01*d.domain()[1]]):d.domain([-1,1]));var S=A.selectAll("g.nv-wrap.nv-historicalBar-"+c).data([t[0].values]),C=S.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+c),M=C.append("defs"),D=C.append("g"),I=S.select("g");D.append("g").attr("class","nv-bars"),S.attr("transform","translate("+i.left+","+i.top+")"),A.on("click",function(t,e){y.chartClick({data:t,index:e,pos:d3.event,id:c})}),M.append("clipPath").attr("id","nv-chart-clip-path-"+c).append("rect"),S.select("#nv-chart-clip-path-"+c+" rect").attr("width",k).attr("height",w),I.attr("clip-path",m?"url(#nv-chart-clip-path-"+c+")":"");var W=S.select(".nv-bars").selectAll(".nv-bar").data(function(t){return t},function(t,e){return p(t,e)});W.exit().remove();W.enter().append("rect").attr("x",0).attr("y",function(t,e){return r.utils.NaNtoZero(d(Math.max(0,f(t,e))))}).attr("height",function(t,e){return r.utils.NaNtoZero(Math.abs(d(f(t,e))-d(0)))}).attr("transform",function(e,n){return"translate("+(u(p(e,n))-k/t[0].values.length*.45)+",0)"}).on("mouseover",function(e,n){b&&(d3.select(this).classed("hover",!0),y.elementMouseover({point:e,series:t[0],pos:[u(p(e,n)),d(f(e,n))],pointIndex:n,seriesIndex:0,e:d3.event}))}).on("mouseout",function(e,n){b&&(d3.select(this).classed("hover",!1),y.elementMouseout({point:e,series:t[0],pointIndex:n,seriesIndex:0,e:d3.event}))}).on("click",function(t,e){b&&(y.elementClick({value:f(t,e),data:t,index:e,pos:[u(p(t,e)),d(f(t,e))],e:d3.event,id:c}),d3.event.stopPropagation())}).on("dblclick",function(t,e){b&&(y.elementDblClick({value:f(t,e),data:t,index:e,pos:[u(p(t,e)),d(f(t,e))],e:d3.event,id:c}),d3.event.stopPropagation())});W.attr("fill",function(t,e){return x(t,e)}).attr("class",function(t,e,n){return(f(t,e)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+e}).transition().attr("transform",function(e,n){return"translate("+(u(p(e,n))-k/t[0].values.length*.45)+",0)"}).attr("width",k/t[0].values.length*.9),W.transition().attr("y",function(t,e){var n=f(t,e)<0?d(0):d(0)-d(f(t,e))<1?d(0)-1:d(f(t,e));return r.utils.NaNtoZero(n)}).attr("height",function(t,e){return r.utils.NaNtoZero(Math.max(Math.abs(d(f(t,e))-d(0)),1))})}),t}var e,n,o,a,i={top:0,right:0,bottom:0,left:0},l=960,s=500,c=Math.floor(1e4*Math.random()),u=d3.scale.linear(),d=d3.scale.linear(),p=function(t){return t.x},f=function(t){return t.y},h=[],g=[0],v=!1,m=!0,x=r.utils.defaultColor(),y=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),b=!0;return t.highlightPoint=function(t,e){d3.select(".nv-historicalBar-"+c).select(".nv-bars .nv-bar-0-"+t).classed("hover",e)},t.clearHighlights=function(){d3.select(".nv-historicalBar-"+c).select(".nv-bars .nv-bar.hover").classed("hover",!1)},t.dispatch=y,t.options=r.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(p=e,t):p},t.y=function(e){return arguments.length?(f=e,t):f},t.margin=function(e){return arguments.length?(i.top=void 0!==e.top?e.top:i.top,i.right=void 0!==e.right?e.right:i.right,i.bottom=void 0!==e.bottom?e.bottom:i.bottom,i.left=void 0!==e.left?e.left:i.left,t):i},t.width=function(e){return arguments.length?(l=e,t):l},t.height=function(e){return arguments.length?(s=e,t):s},t.xScale=function(e){return arguments.length?(u=e,t):u},t.yScale=function(e){return arguments.length?(d=e,t):d},t.xDomain=function(n){return arguments.length?(e=n,t):e},t.yDomain=function(e){return arguments.length?(n=e,t):n},t.xRange=function(e){return arguments.length?(o=e,t):o},t.yRange=function(e){return arguments.length?(a=e,t):a},t.forceX=function(e){return arguments.length?(h=e,t):h},t.forceY=function(e){return arguments.length?(g=e,t):g},t.padData=function(e){return arguments.length?(v=e,t):v},t.clipEdge=function(e){return arguments.length?(m=e,t):m},t.color=function(e){return arguments.length?(x=r.utils.getColor(e),t):x},t.id=function(e){return arguments.length?(c=e,t):c},t.interactive=function(e){return arguments.length?(b=!1,t):b},t},r.models.historicalBarChart=function(){"use strict";function t(r){return r.each(function(m){var S=d3.select(this),C=this,M=(u||parseInt(S.style("width"))||960)-s.left-s.right,D=(d||parseInt(S.style("height"))||400)-s.top-s.bottom;if(t.update=function(){S.transition().duration(w).call(t)},t.container=this,x.disabled=m.map(function(t){return!!t.disabled}),!y){var I;y={};for(I in x)x[I]instanceof Array?y[I]=x[I].slice(0):y[I]=x[I]}if(!m||!m.length||!m.filter(function(t){return t.values.length}).length){var W=S.selectAll(".nv-noData").data([b]);return W.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),W.attr("x",s.left+M/2).attr("y",s.top+D/2).text(function(t){return t}),t}S.selectAll(".nv-noData").remove(),e=o.xScale(),n=o.yScale();var z=S.selectAll("g.nv-wrap.nv-historicalBarChart").data([m]),F=z.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),N=z.select("g");F.append("g").attr("class","nv-x nv-axis"),F.append("g").attr("class","nv-y nv-axis"),F.append("g").attr("class","nv-barsWrap"),F.append("g").attr("class","nv-legendWrap"),p&&(l.width(M),N.select(".nv-legendWrap").datum(m).call(l),s.top!=l.height()&&(s.top=l.height(),D=(d||parseInt(S.style("height"))||400)-s.top-s.bottom),z.select(".nv-legendWrap").attr("transform","translate(0,"+-s.top+")")),z.attr("transform","translate("+s.left+","+s.top+")"),g&&N.select(".nv-y.nv-axis").attr("transform","translate("+M+",0)"),o.width(M).height(D).color(m.map(function(t,e){return t.color||c(t,e)}).filter(function(t,e){return!m[e].disabled})),N.select(".nv-barsWrap").datum(m.filter(function(t){return!t.disabled})).transition().call(o),f&&(a.scale(e).tickSize(-D,0),N.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")"),N.select(".nv-x.nv-axis").transition().call(a)),h&&(i.scale(n).ticks(D/36).tickSize(-M,0),N.select(".nv-y.nv-axis").transition().call(i)),l.dispatch.on("legendClick",function(e,n){e.disabled=!e.disabled,m.filter(function(t){return!t.disabled}).length||m.map(function(t){return t.disabled=!1,z.selectAll(".nv-series").classed("disabled",!1),t}),x.disabled=m.map(function(t){return!!t.disabled}),k.stateChange(x),r.transition().call(t)}),l.dispatch.on("legendDblclick",function(e){m.forEach(function(t){t.disabled=!0}),e.disabled=!1,x.disabled=m.map(function(t){return!!t.disabled}),k.stateChange(x),t.update()}),k.on("tooltipShow",function(t){v&&A(t,C.parentNode)}),k.on("changeState",function(e){void 0!==e.disabled&&(m.forEach(function(t,n){t.disabled=e.disabled[n]}),x.disabled=e.disabled),t.update()})}),t}var e,n,o=r.models.historicalBar(),a=r.models.axis(),i=r.models.axis(),l=r.models.legend(),s={top:30,right:90,bottom:50,left:90},c=r.utils.defaultColor(),u=null,d=null,p=!1,f=!0,h=!0,g=!1,v=!0,m=function(t,e,n,r,o){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},x={},y=null,b="No Data Available.",k=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),w=250;a.orient("bottom").tickPadding(7),i.orient(g?"right":"left");var A=function(e,n){if(n){var l=d3.select(n).select("svg"),s=l.node()?l.attr("viewBox"):null;if(s){s=s.split(" ");var c=parseInt(l.style("width"))/s[2];e.pos[0]=e.pos[0]*c,e.pos[1]=e.pos[1]*c}}var u=e.pos[0]+(n.offsetLeft||0),d=e.pos[1]+(n.offsetTop||0),p=a.tickFormat()(o.x()(e.point,e.pointIndex)),f=i.tickFormat()(o.y()(e.point,e.pointIndex)),h=m(e.series.key,p,f,e,t);r.tooltip.show([u,d],h,null,null,n)};return o.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+s.left,t.pos[1]+s.top],k.tooltipShow(t)}),o.dispatch.on("elementMouseout.tooltip",function(t){k.tooltipHide(t)}),k.on("tooltipHide",function(){v&&r.tooltip.cleanup()}),t.dispatch=k,t.bars=o,t.legend=l,t.xAxis=a,t.yAxis=i,d3.rebind(t,o,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id","interpolate","highlightPoint","clearHighlights","interactive"),t.options=r.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(s.top=void 0!==e.top?e.top:s.top,s.right=void 0!==e.right?e.right:s.right,s.bottom=void 0!==e.bottom?e.bottom:s.bottom,s.left=void 0!==e.left?e.left:s.left,t):s},t.width=function(e){return arguments.length?(u=e,t):u},t.height=function(e){return arguments.length?(d=e,t):d},t.color=function(e){return arguments.length?(c=r.utils.getColor(e),l.color(c),t):c},t.showLegend=function(e){return arguments.length?(p=e,t):p},t.showXAxis=function(e){return arguments.length?(f=e,t):f},t.showYAxis=function(e){return arguments.length?(h=e,t):h},t.rightAlignYAxis=function(e){return arguments.length?(g=e,i.orient(e?"right":"left"),t):g},t.tooltips=function(e){return arguments.length?(v=e,t):v},t.tooltipContent=function(e){return arguments.length?(m=e,t):m},t.state=function(e){return arguments.length?(x=e,t):x},t.defaultState=function(e){return arguments.length?(y=e,t):y},t.noData=function(e){return arguments.length?(b=e,t):b},t.transitionDuration=function(e){return arguments.length?(w=e,t):w},t},r.models.indentedTree=function(){"use strict";function t(e){return e.each(function(e){function n(e,r,o){return d3.event.stopPropagation(),d3.event.shiftKey&&!o?(d3.event.shiftKey=!1,e.values&&e.values.forEach(function(t){(t.values||t._values)&&n(t,0,!0)}),!0):!(i=(a=e).values||a._values)||!i.length||(e.values?(e._values=e.values,e.values=null):(e.values=e._values,e._values=null),void t.update());var a,i}function r(t){return t._values&&t._values.length?f:t.values&&t.values.length?h:""}function a(t){return t._values&&t._values.length}var i,x=d3.select(this),y=d3.layout.tree().children(function(t){return t.values}).size([o,u]);t.update=function(){x.transition().duration(600).call(t)},e[0]||(e[0]={key:c});var b=y.nodes(e[0]),k=d3.select(this).selectAll("div").data([[b]]),w=k.enter().append("div").attr("class","nvd3 nv-wrap nv-indentedtree").append("table"),A=k.select("table").attr("width","100%").attr("class",p);if(l){var S=w.append("thead").append("tr");d.forEach(function(t){S.append("th").attr("width",t.width?t.width:"10%").style("text-align","numeric"==t.type?"right":"left").append("span").text(t.label)})}var C=A.selectAll("tbody").data(function(t){return t});C.enter().append("tbody"),i=d3.max(b,function(t){return t.depth}),y.size([o,i*u]);var M=C.selectAll("tr").data(function(t){return t.filter(function(t){return!(s&&!t.children)||s(t)})},function(t,e){return t.id||t.id||++m});M.exit().remove(),M.select("img.nv-treeicon").attr("src",r).classed("folded",a);var D=M.enter().append("tr");d.forEach(function(t,e){var o=D.append("td").style("padding-left",function(t){return(e?0:t.depth*u+12+(r(t)?0:16))+"px"},"important").style("text-align","numeric"==t.type?"right":"left");0==e&&o.append("img").classed("nv-treeicon",!0).classed("nv-folded",a).attr("src",r).style("width","14px").style("height","14px").style("padding","0 1px").style("display",function(t){return r(t)?"inline-block":"none"}).on("click",n),o.each(function(n){!e&&v(n)?d3.select(this).append("a").attr("href",v).attr("class",d3.functor(t.classes)).append("span"):d3.select(this).append("span"),d3.select(this).select("span").attr("class",d3.functor(t.classes)).text(function(e){return t.format?t.format(e):e[t.key]||"-"})}),t.showCount&&(o.append("span").attr("class","nv-childrenCount"),M.selectAll("span.nv-childrenCount").text(function(t){return t.values&&t.values.length||t._values&&t._values.length?"("+(t.values&&t.values.filter(function(t){return!s||s(t)}).length||t._values&&t._values.filter(function(t){return!s||s(t)}).length||0)+")":""}))}),M.order().on("click",function(t){g.elementClick({row:this,data:t,pos:[t.x,t.y]})}).on("dblclick",function(t){g.elementDblclick({row:this,data:t,pos:[t.x,t.y]})}).on("mouseover",function(t){g.elementMouseover({row:this,data:t,pos:[t.x,t.y]})}).on("mouseout",function(t){g.elementMouseout({row:this,data:t,pos:[t.x,t.y]})})}),t}var e={top:0,right:0,bottom:0,left:0},n=960,o=500,a=r.utils.defaultColor(),i=Math.floor(1e4*Math.random()),l=!0,s=!1,c="No Data Available.",u=20,d=[{key:"key",label:"Name",type:"text"}],p=null,f="images/grey-plus.png",h="images/grey-minus.png",g=d3.dispatch("elementClick","elementDblclick","elementMouseover","elementMouseout"),v=function(t){return t.url},m=0;return t.options=r.utils.optionsFunc.bind(t),t.margin=function(n){return arguments.length?(e.top=void 0!==n.top?n.top:e.top,e.right=void 0!==n.right?n.right:e.right,e.bottom=void 0!==n.bottom?n.bottom:e.bottom,e.left=void 0!==n.left?n.left:e.left,t):e},t.width=function(e){return arguments.length?(n=e,t):n},t.height=function(e){return arguments.length?(o=e,t):o},t.color=function(e){return arguments.length?(a=r.utils.getColor(e),scatter.color(a),t):a},t.id=function(e){return arguments.length?(i=e,t):i},t.header=function(e){return arguments.length?(l=e,t):l},t.noData=function(e){return arguments.length?(c=e,t):c},t.filterZero=function(e){return arguments.length?(s=e,t):s},t.columns=function(e){return arguments.length?(d=e,t):d},t.tableClass=function(e){return arguments.length?(p=e,t):p},t.iconOpen=function(e){return arguments.length?(f=e,t):f},t.iconClose=function(e){return arguments.length?(h=e,t):h},t.getUrl=function(e){return arguments.length?(v=e,t):v},t},r.models.legend=function(){"use strict";function t(p){return p.each(function(t){var p=n-e.left-e.right,f=d3.select(this).selectAll("g.nv-legend").data([t]),h=(f.enter().append("g").attr("class","nvd3 nv-legend").append("g"),f.select("g"));f.attr("transform","translate("+e.left+","+e.top+")");var g=h.selectAll(".nv-series").data(function(t){return t}),v=g.enter().append("g").attr("class","nv-series").on("mouseover",function(t,e){d.legendMouseover(t,e)}).on("mouseout",function(t,e){d.legendMouseout(t,e)}).on("click",function(e,n){d.legendClick(e,n),c&&(u?(t.forEach(function(t){t.disabled=!0}),e.disabled=!1):(e.disabled=!e.disabled,t.every(function(t){return t.disabled})&&t.forEach(function(t){t.disabled=!1})),d.stateChange({disabled:t.map(function(t){return!!t.disabled})}))}).on("dblclick",function(e,n){d.legendDblclick(e,n),c&&(t.forEach(function(t){t.disabled=!0}),e.disabled=!1,d.stateChange({disabled:t.map(function(t){return!!t.disabled})}))});if(v.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),v.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8"),g.classed("disabled",function(t){return t.disabled}),g.exit().remove(),g.select("circle").style("fill",function(t,e){return t.color||i(t,e)}).style("stroke",function(t,e){return t.color||i(t,e)}),g.select("text").text(a),l){var m=[];g.each(function(t,e){var n,o=d3.select(this).select("text");try{if((n=o.getComputedTextLength())<=0)throw Error()}catch(t){n=r.utils.calcApproxTextWidth(o)}m.push(n+28)});for(var x=0,y=0,b=[];y<p&&x<m.length;)b[x]=m[x],y+=m[x++];for(0===x&&(x=1);y>p&&x>1;){b=[],x--;for(var k=0;k<m.length;k++)m[k]>(b[k%x]||0)&&(b[k%x]=m[k]);y=b.reduce(function(t,e,n,r){return t+e})}for(var w=[],A=0,S=0;A<x;A++)w[A]=S,S+=b[A];g.attr("transform",function(t,e){return"translate("+w[e%x]+","+(5+20*Math.floor(e/x))+")"}),s?h.attr("transform","translate("+(n-e.right-y)+","+e.top+")"):h.attr("transform","translate(0,"+e.top+")"),o=e.top+e.bottom+20*Math.ceil(m.length/x)}else{var C,M=5,D=5,I=0;g.attr("transform",function(t,r){var o=d3.select(this).select("text").node().getComputedTextLength()+28;return C=D,n<e.left+e.right+C+o&&(D=C=5,M+=20),(D+=o)>I&&(I=D),"translate("+C+","+M+")"}),h.attr("transform","translate("+(n-e.right-I)+","+e.top+")"),o=e.top+e.bottom+M+15}}),t}var e={top:5,right:0,bottom:5,left:0},n=400,o=20,a=function(t){return t.key},i=r.utils.defaultColor(),l=!0,s=!0,c=!0,u=!1,d=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange");return t.dispatch=d,t.options=r.utils.optionsFunc.bind(t),t.margin=function(n){return arguments.length?(e.top=void 0!==n.top?n.top:e.top,e.right=void 0!==n.right?n.right:e.right,e.bottom=void 0!==n.bottom?n.bottom:e.bottom,e.left=void 0!==n.left?n.left:e.left,t):e},t.width=function(e){return arguments.length?(n=e,t):n},t.height=function(e){return arguments.length?(o=e,t):o},t.key=function(e){return arguments.length?(a=e,t):a},t.color=function(e){return arguments.length?(i=r.utils.getColor(e),t):i},t.align=function(e){return arguments.length?(l=e,t):l},t.rightAlign=function(e){return arguments.length?(s=e,t):s},t.updateState=function(e){return arguments.length?(c=e,t):c},t.radioButtonMode=function(e){return arguments.length?(u=e,t):u},t},r.models.line=function(){"use strict";function t(m){return m.each(function(t){var m=s-l.left-l.right,x=c-l.top-l.bottom,y=d3.select(this);e=i.xScale(),n=i.yScale(),o=o||e,a=a||n;var b=y.selectAll("g.nv-wrap.nv-line").data([t]),k=b.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),w=k.append("defs"),A=k.append("g"),S=b.select("g");A.append("g").attr("class","nv-groups"),A.append("g").attr("class","nv-scatterWrap"),b.attr("transform","translate("+l.left+","+l.top+")"),i.width(m).height(x);var C=b.select(".nv-scatterWrap");C.transition().call(i),w.append("clipPath").attr("id","nv-edge-clip-"+i.id()).append("rect"),b.select("#nv-edge-clip-"+i.id()+" rect").attr("width",m).attr("height",x),S.attr("clip-path",g?"url(#nv-edge-clip-"+i.id()+")":""),C.attr("clip-path",g?"url(#nv-edge-clip-"+i.id()+")":"");var M=b.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});M.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),M.exit().remove(),M.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return u(t,e)}).style("stroke",function(t,e){return u(t,e)}),M.transition().style("stroke-opacity",1).style("fill-opacity",.5);var D=M.selectAll("path.nv-area").data(function(t){return h(t)?[t]:[]});D.enter().append("path").attr("class","nv-area").attr("d",function(t){return d3.svg.area().interpolate(v).defined(f).x(function(t,e){return r.utils.NaNtoZero(o(d(t,e)))}).y0(function(t,e){return r.utils.NaNtoZero(a(p(t,e)))}).y1(function(t,e){return a(n.domain()[0]<=0?n.domain()[1]>=0?0:n.domain()[1]:n.domain()[0])}).apply(this,[t.values])}),M.exit().selectAll("path.nv-area").remove(),D.transition().attr("d",function(t){return d3.svg.area().interpolate(v).defined(f).x(function(t,n){return r.utils.NaNtoZero(e(d(t,n)))}).y0(function(t,e){return r.utils.NaNtoZero(n(p(t,e)))}).y1(function(t,e){return n(n.domain()[0]<=0?n.domain()[1]>=0?0:n.domain()[1]:n.domain()[0])}).apply(this,[t.values])});var I=M.selectAll("path.nv-line").data(function(t){return[t.values]});I.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(v).defined(f).x(function(t,e){return r.utils.NaNtoZero(o(d(t,e)))}).y(function(t,e){return r.utils.NaNtoZero(a(p(t,e)))})),I.transition().attr("d",d3.svg.line().interpolate(v).defined(f).x(function(t,n){return r.utils.NaNtoZero(e(d(t,n)))}).y(function(t,e){return r.utils.NaNtoZero(n(p(t,e)))})),o=e.copy(),a=n.copy()}),t}var e,n,o,a,i=r.models.scatter(),l={top:0,right:0,bottom:0,left:0},s=960,c=500,u=r.utils.defaultColor(),d=function(t){return t.x},p=function(t){return t.y},f=function(t,e){return!isNaN(p(t,e))&&null!==p(t,e)},h=function(t){return t.area},g=!1,v="linear";return i.size(16).sizeDomain([16,256]),t.dispatch=i.dispatch,t.scatter=i,d3.rebind(t,i,"id","interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","padData","highlightPoint","clearHighlights"),t.options=r.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(l.top=void 0!==e.top?e.top:l.top,l.right=void 0!==e.right?e.right:l.right,l.bottom=void 0!==e.bottom?e.bottom:l.bottom,l.left=void 0!==e.left?e.left:l.left,t):l},t.width=function(e){return arguments.length?(s=e,t):s},t.height=function(e){return arguments.length?(c=e,t):c},t.x=function(e){return arguments.length?(d=e,i.x(e),t):d},t.y=function(e){return arguments.length?(p=e,i.y(e),t):p},t.clipEdge=function(e){return arguments.length?(g=e,t):g},t.color=function(e){return arguments.length?(u=r.utils.getColor(e),i.color(u),t):u},t.interpolate=function(e){return arguments.length?(v=e,t):v},t.defined=function(e){return arguments.length?(f=e,t):f},t.isArea=function(e){return arguments.length?(h=d3.functor(e),t):h},t},r.models.lineChart=function(){"use strict";function t(y){return y.each(function(y){var M=d3.select(this),D=this,I=(d||parseInt(M.style("width"))||960)-c.left-c.right,W=(p||parseInt(M.style("height"))||400)-c.top-c.bottom;if(t.update=function(){M.transition().duration(S).call(t)},t.container=this,b.disabled=y.map(function(t){return!!t.disabled}),!k){var z;k={};for(z in b)b[z]instanceof Array?k[z]=b[z].slice(0):k[z]=b[z]}if(!y||!y.length||!y.filter(function(t){return t.values.length}).length){var F=M.selectAll(".nv-noData").data([w]);return F.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),F.attr("x",c.left+I/2).attr("y",c.top+W/2).text(function(t){return t}),t}M.selectAll(".nv-noData").remove(),e=o.xScale(),n=o.yScale();var N=M.selectAll("g.nv-wrap.nv-lineChart").data([y]),L=N.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),B=N.select("g");L.append("rect").style("opacity",0),L.append("g").attr("class","nv-x nv-axis"),L.append("g").attr("class","nv-y nv-axis"),L.append("g").attr("class","nv-linesWrap"),L.append("g").attr("class","nv-legendWrap"),L.append("g").attr("class","nv-interactive"),B.select("rect").attr("width",I).attr("height",W>0?W:0),f&&(l.width(I),B.select(".nv-legendWrap").datum(y).call(l),c.top!=l.height()&&(c.top=l.height(),W=(p||parseInt(M.style("height"))||400)-c.top-c.bottom),N.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")")),N.attr("transform","translate("+c.left+","+c.top+")"),v&&B.select(".nv-y.nv-axis").attr("transform","translate("+I+",0)"),m&&(s.width(I).height(W).margin({left:c.left,top:c.top}).svgContainer(M).xScale(e),N.select(".nv-interactive").call(s)),o.width(I).height(W).color(y.map(function(t,e){return t.color||u(t,e)}).filter(function(t,e){return!y[e].disabled})),B.select(".nv-linesWrap").datum(y.filter(function(t){return!t.disabled})).transition().call(o),h&&(a.scale(e).ticks(I/100).tickSize(-W,0),B.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")"),B.select(".nv-x.nv-axis").transition().call(a)),g&&(i.scale(n).ticks(W/36).tickSize(-I,0),B.select(".nv-y.nv-axis").transition().call(i)),l.dispatch.on("stateChange",function(e){b=e,A.stateChange(b),t.update()}),s.dispatch.on("elementMousemove",function(e){o.clearHighlights();var n,l,d,p=[];if(y.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(a,i){l=r.interactiveBisect(a.values,e.pointXValue,t.x()),o.highlightPoint(i,l,!0);var s=a.values[l];void 0!==s&&(void 0===n&&(n=s),void 0===d&&(d=t.xScale()(t.x()(s,l))),p.push({key:a.key,value:t.y()(s,l),color:u(a,a.seriesIndex)}))}),p.length>2){var f=t.yScale().invert(e.mouseY),h=.03*Math.abs(t.yScale().domain()[0]-t.yScale().domain()[1]),g=r.nearestValueIndex(p.map(function(t){return t.value}),f,h);null!==g&&(p[g].highlight=!0)}var v=a.tickFormat()(t.x()(n,l));s.tooltip.position({left:d+c.left,top:e.mouseY+c.top}).chartContainer(D.parentNode).enabled(x).valueFormatter(function(t,e){return i.tickFormat()(t)}).data({value:v,series:p})(),s.renderGuideLine(d)}),s.dispatch.on("elementMouseout",function(t){A.tooltipHide(),o.clearHighlights()}),A.on("tooltipShow",function(t){x&&C(t,D.parentNode)}),A.on("changeState",function(e){void 0!==e.disabled&&y.length===e.disabled.length&&(y.forEach(function(t,n){t.disabled=e.disabled[n]}),b.disabled=e.disabled),t.update()})}),t}var e,n,o=r.models.line(),a=r.models.axis(),i=r.models.axis(),l=r.models.legend(),s=r.interactiveGuideline(),c={top:30,right:20,bottom:50,left:60},u=r.utils.defaultColor(),d=null,p=null,f=!0,h=!0,g=!0,v=!1,m=!1,x=!0,y=function(t,e,n,r,o){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},b={},k=null,w="No Data Available.",A=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),S=250;a.orient("bottom").tickPadding(7),i.orient(v?"right":"left");var C=function(e,n){var l=e.pos[0]+(n.offsetLeft||0),s=e.pos[1]+(n.offsetTop||0),c=a.tickFormat()(o.x()(e.point,e.pointIndex)),u=i.tickFormat()(o.y()(e.point,e.pointIndex)),d=y(e.series.key,c,u,e,t);r.tooltip.show([l,s],d,null,null,n)};return o.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+c.left,t.pos[1]+c.top],A.tooltipShow(t)}),o.dispatch.on("elementMouseout.tooltip",function(t){A.tooltipHide(t)}),A.on("tooltipHide",function(){x&&r.tooltip.cleanup()}),t.dispatch=A,t.lines=o,t.legend=l,t.xAxis=a,t.yAxis=i,t.interactiveLayer=s,d3.rebind(t,o,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","useVoronoi","id","interpolate"),t.options=r.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left,t):c},t.width=function(e){return arguments.length?(d=e,t):d},t.height=function(e){return arguments.length?(p=e,t):p},t.color=function(e){return arguments.length?(u=r.utils.getColor(e),l.color(u),t):u},t.showLegend=function(e){return arguments.length?(f=e,t):f},t.showXAxis=function(e){return arguments.length?(h=e,t):h},t.showYAxis=function(e){return arguments.length?(g=e,t):g},t.rightAlignYAxis=function(e){return arguments.length?(v=e,i.orient(e?"right":"left"),t):v},t.useInteractiveGuideline=function(e){return arguments.length?(m=e,!0===e&&(t.interactive(!1),t.useVoronoi(!1)),t):m},t.tooltips=function(e){return arguments.length?(x=e,t):x},t.tooltipContent=function(e){return arguments.length?(y=e,t):y},t.state=function(e){return arguments.length?(b=e,t):b},t.defaultState=function(e){return arguments.length?(k=e,t):k},t.noData=function(e){return arguments.length?(w=e,t):w},t.transitionDuration=function(e){return arguments.length?(S=e,t):S},t},r.models.linePlusBarChart=function(){"use strict";function t(r){return r.each(function(r){var h=d3.select(this),g=this,y=(p||parseInt(h.style("width"))||960)-d.left-d.right,C=(f||parseInt(h.style("height"))||400)-d.top-d.bottom;if(t.update=function(){h.transition().call(t)},b.disabled=r.map(function(t){return!!t.disabled}),!k){var M;k={};for(M in b)b[M]instanceof Array?k[M]=b[M].slice(0):k[M]=b[M]}if(!r||!r.length||!r.filter(function(t){return t.values.length}).length){var D=h.selectAll(".nv-noData").data([w]);return D.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),D.attr("x",d.left+y/2).attr("y",d.top+C/2).text(function(t){return t}),t}h.selectAll(".nv-noData").remove();var I=r.filter(function(t){return!t.disabled&&t.bar}),W=r.filter(function(t){return!t.bar});e=W.filter(function(t){return!t.disabled}).length&&W.filter(function(t){return!t.disabled})[0].values.length?a.xScale():i.xScale(),n=i.yScale(),o=a.yScale();var z=d3.select(this).selectAll("g.nv-wrap.nv-linePlusBar").data([r]),F=z.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),N=z.select("g");F.append("g").attr("class","nv-x nv-axis"),F.append("g").attr("class","nv-y1 nv-axis"),F.append("g").attr("class","nv-y2 nv-axis"),F.append("g").attr("class","nv-barsWrap"),F.append("g").attr("class","nv-linesWrap"),F.append("g").attr("class","nv-legendWrap"),m&&(u.width(y/2),N.select(".nv-legendWrap").datum(r.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(t.bar?" (left axis)":" (right axis)"),t})).call(u),d.top!=u.height()&&(d.top=u.height(),C=(f||parseInt(h.style("height"))||400)-d.top-d.bottom),N.select(".nv-legendWrap").attr("transform","translate("+y/2+","+-d.top+")")),z.attr("transform","translate("+d.left+","+d.top+")"),a.width(y).height(C).color(r.map(function(t,e){return t.color||v(t,e)}).filter(function(t,e){return!r[e].disabled&&!r[e].bar})),i.width(y).height(C).color(r.map(function(t,e){return t.color||v(t,e)}).filter(function(t,e){return!r[e].disabled&&r[e].bar}));var L=N.select(".nv-barsWrap").datum(I.length?I:[{values:[]}]),B=N.select(".nv-linesWrap").datum(W[0]&&!W[0].disabled?W:[{values:[]}]);d3.transition(L).call(i),d3.transition(B).call(a),l.scale(e).ticks(y/100).tickSize(-C,0),N.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")"),d3.transition(N.select(".nv-x.nv-axis")).call(l),s.scale(n).ticks(C/36).tickSize(-y,0),d3.transition(N.select(".nv-y1.nv-axis")).style("opacity",I.length?1:0).call(s),c.scale(o).ticks(C/36).tickSize(I.length?0:-y,0),N.select(".nv-y2.nv-axis").style("opacity",W.length?1:0).attr("transform","translate("+y+",0)"),d3.transition(N.select(".nv-y2.nv-axis")).call(c),u.dispatch.on("stateChange",function(e){b=e,A.stateChange(b),t.update()}),A.on("tooltipShow",function(t){x&&S(t,g.parentNode)}),A.on("changeState",function(e){void 0!==e.disabled&&(r.forEach(function(t,n){t.disabled=e.disabled[n]}),b.disabled=e.disabled),t.update()})}),t}var e,n,o,a=r.models.line(),i=r.models.historicalBar(),l=r.models.axis(),s=r.models.axis(),c=r.models.axis(),u=r.models.legend(),d={top:30,right:60,bottom:50,left:60},p=null,f=null,h=function(t){return t.x},g=function(t){return t.y},v=r.utils.defaultColor(),m=!0,x=!0,y=function(t,e,n,r,o){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},b={},k=null,w="No Data Available.",A=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");i.padData(!0),a.clipEdge(!1).padData(!0),l.orient("bottom").tickPadding(7).highlightZero(!1),s.orient("left"),c.orient("right");var S=function(e,n){var o=e.pos[0]+(n.offsetLeft||0),i=e.pos[1]+(n.offsetTop||0),u=l.tickFormat()(a.x()(e.point,e.pointIndex)),d=(e.series.bar?s:c).tickFormat()(a.y()(e.point,e.pointIndex)),p=y(e.series.key,u,d,e,t);r.tooltip.show([o,i],p,e.value<0?"n":"s",null,n)};return a.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+d.left,t.pos[1]+d.top],A.tooltipShow(t)}),a.dispatch.on("elementMouseout.tooltip",function(t){A.tooltipHide(t)}),i.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+d.left,t.pos[1]+d.top],A.tooltipShow(t)}),i.dispatch.on("elementMouseout.tooltip",function(t){A.tooltipHide(t)}),A.on("tooltipHide",function(){x&&r.tooltip.cleanup()}),t.dispatch=A,t.legend=u,t.lines=a,t.bars=i,t.xAxis=l,t.y1Axis=s,t.y2Axis=c,d3.rebind(t,a,"defined","size","clipVoronoi","interpolate"),t.options=r.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(h=e,a.x(e),i.x(e),t):h},t.y=function(e){return arguments.length?(g=e,a.y(e),i.y(e),t):g},t.margin=function(e){return arguments.length?(d.top=void 0!==e.top?e.top:d.top,d.right=void 0!==e.right?e.right:d.right,d.bottom=void 0!==e.bottom?e.bottom:d.bottom,d.left=void 0!==e.left?e.left:d.left,t):d},t.width=function(e){return arguments.length?(p=e,t):p},t.height=function(e){return arguments.length?(f=e,t):f},t.color=function(e){return arguments.length?(v=r.utils.getColor(e),u.color(v),t):v},t.showLegend=function(e){return arguments.length?(m=e,t):m},t.tooltips=function(e){return arguments.length?(x=e,t):x},t.tooltipContent=function(e){return arguments.length?(y=e,t):y},t.state=function(e){return arguments.length?(b=e,t):b},t.defaultState=function(e){return arguments.length?(k=e,t):k},t.noData=function(e){return arguments.length?(w=e,t):w},t},r.models.lineWithFocusChart=function(){"use strict";function t(r){return r.each(function(r){function A(){k=f.empty()?null:f.extent();var t=f.empty()?o.domain():f.extent();Math.abs(t[0]-t[1])<=1||(C.brush({extent:t,brush:f}),f.empty()||f.extent(k),R.data([f.empty()?o.domain():k]).each(function(t,n){var r=o(t[0])-e.range()[0],a=e.range()[1]-o(t[1]);d3.select(this).select(".left").attr("width",r<0?0:r),d3.select(this).select(".right").attr("x",o(t[1])).attr("width",a<0?0:a)}),P.select(".nv-focus .nv-linesWrap").datum(r.filter(function(t){return!t.disabled}).map(function(e,n){return{key:e.key,values:e.values.filter(function(e,n){return i.x()(e,n)>=t[0]&&i.x()(e,n)<=t[1]})}})).transition().duration(M).call(i),P.select(".nv-focus .nv-x.nv-axis").transition().duration(M).call(s),P.select(".nv-focus .nv-y.nv-axis").transition().duration(M).call(c))}var I=d3.select(this),W=this,z=(m||parseInt(I.style("width"))||960)-h.left-h.right,F=(x||parseInt(I.style("height"))||400)-h.top-h.bottom-y,N=y-g.top-g.bottom;if(t.update=function(){I.transition().duration(M).call(t)},t.container=this,!r||!r.length||!r.filter(function(t){return t.values.length}).length){var L=I.selectAll(".nv-noData").data([S]);return L.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),L.attr("x",h.left+z/2).attr("y",h.top+F/2).text(function(t){return t}),t}I.selectAll(".nv-noData").remove(),e=i.xScale(),n=i.yScale(),o=l.xScale(),a=l.yScale();var B=I.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([r]),H=B.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),P=B.select("g");H.append("g").attr("class","nv-legendWrap");var T=H.append("g").attr("class","nv-focus");T.append("g").attr("class","nv-x nv-axis"),T.append("g").attr("class","nv-y nv-axis"),T.append("g").attr("class","nv-linesWrap");var E=H.append("g").attr("class","nv-context");E.append("g").attr("class","nv-x nv-axis"),E.append("g").attr("class","nv-y nv-axis"),E.append("g").attr("class","nv-linesWrap"),E.append("g").attr("class","nv-brushBackground"),E.append("g").attr("class","nv-x nv-brush"),b&&(p.width(z),P.select(".nv-legendWrap").datum(r).call(p),h.top!=p.height()&&(h.top=p.height(),F=(x||parseInt(I.style("height"))||400)-h.top-h.bottom-y),P.select(".nv-legendWrap").attr("transform","translate(0,"+-h.top+")")),B.attr("transform","translate("+h.left+","+h.top+")"),i.width(z).height(F).color(r.map(function(t,e){return t.color||v(t,e)}).filter(function(t,e){return!r[e].disabled})),l.defined(i.defined()).width(z).height(N).color(r.map(function(t,e){return t.color||v(t,e)}).filter(function(t,e){return!r[e].disabled})),P.select(".nv-context").attr("transform","translate(0,"+(F+h.bottom+g.top)+")");var Y=P.select(".nv-context .nv-linesWrap").datum(r.filter(function(t){return!t.disabled}));d3.transition(Y).call(l),s.scale(e).ticks(z/100).tickSize(-F,0),c.scale(n).ticks(F/36).tickSize(-z,0),P.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+F+")"),f.x(o).on("brush",function(){var e=t.transitionDuration();t.transitionDuration(0),A(),t.transitionDuration(e)}),k&&f.extent(k);var R=P.select(".nv-brushBackground").selectAll("g").data([k||f.extent()]),V=R.enter().append("g");V.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",N),V.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",N);var _=P.select(".nv-x.nv-brush").call(f);_.selectAll("rect").attr("height",N),_.selectAll(".resize").append("path").attr("d",function(t){var e=+("e"==t),n=e?1:-1,r=N/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}),A(),u.scale(o).ticks(z/100).tickSize(-N,0),P.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+a.range()[0]+")"),d3.transition(P.select(".nv-context .nv-x.nv-axis")).call(u),d.scale(a).ticks(N/36).tickSize(-z,0),d3.transition(P.select(".nv-context .nv-y.nv-axis")).call(d),P.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+a.range()[0]+")"),p.dispatch.on("stateChange",function(e){t.update()}),C.on("tooltipShow",function(t){w&&D(t,W.parentNode)})}),t}var e,n,o,a,i=r.models.line(),l=r.models.line(),s=r.models.axis(),c=r.models.axis(),u=r.models.axis(),d=r.models.axis(),p=r.models.legend(),f=d3.svg.brush(),h={top:30,right:30,bottom:30,left:60},g={top:0,right:30,bottom:20,left:60},v=r.utils.defaultColor(),m=null,x=null,y=100,b=!0,k=null,w=!0,A=function(t,e,n,r,o){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},S="No Data Available.",C=d3.dispatch("tooltipShow","tooltipHide","brush"),M=250;i.clipEdge(!0),l.interactive(!1),s.orient("bottom").tickPadding(5),c.orient("left"),u.orient("bottom").tickPadding(5),d.orient("left");var D=function(e,n){var o=e.pos[0]+(n.offsetLeft||0),a=e.pos[1]+(n.offsetTop||0),l=s.tickFormat()(i.x()(e.point,e.pointIndex)),u=c.tickFormat()(i.y()(e.point,e.pointIndex)),d=A(e.series.key,l,u,e,t);r.tooltip.show([o,a],d,null,null,n)};return i.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+h.left,t.pos[1]+h.top],C.tooltipShow(t)}),i.dispatch.on("elementMouseout.tooltip",function(t){C.tooltipHide(t)}),C.on("tooltipHide",function(){w&&r.tooltip.cleanup()}),t.dispatch=C,t.legend=p,t.lines=i,t.lines2=l,t.xAxis=s,t.yAxis=c,t.x2Axis=u,t.y2Axis=d,d3.rebind(t,i,"defined","isArea","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id"),t.options=r.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(i.x(e),l.x(e),t):i.x},t.y=function(e){return arguments.length?(i.y(e),l.y(e),t):i.y},t.margin=function(e){return arguments.length?(h.top=void 0!==e.top?e.top:h.top,h.right=void 0!==e.right?e.right:h.right,h.bottom=void 0!==e.bottom?e.bottom:h.bottom,h.left=void 0!==e.left?e.left:h.left,t):h},t.margin2=function(e){return arguments.length?(g=e,t):g},t.width=function(e){return arguments.length?(m=e,t):m},t.height=function(e){return arguments.length?(x=e,t):x},t.height2=function(e){return arguments.length?(y=e,t):y},t.color=function(e){return arguments.length?(v=r.utils.getColor(e),p.color(v),t):v},t.showLegend=function(e){return arguments.length?(b=e,t):b},t.tooltips=function(e){return arguments.length?(w=e,t):w},t.tooltipContent=function(e){return arguments.length?(A=e,t):A},t.interpolate=function(e){return arguments.length?(i.interpolate(e),l.interpolate(e),t):i.interpolate()},t.noData=function(e){return arguments.length?(S=e,t):S},t.xTickFormat=function(e){return arguments.length?(s.tickFormat(e),u.tickFormat(e),t):s.tickFormat()},t.yTickFormat=function(e){return arguments.length?(c.tickFormat(e),d.tickFormat(e),t):c.tickFormat()},t.brushExtent=function(e){return arguments.length?(k=e,t):k},t.transitionDuration=function(e){return arguments.length?(M=e,t):M},t},r.models.linePlusBarWithFocusChart=function(){"use strict";function t(r){return r.each(function(r){function N(){z=b.empty()?null:b.extent(),e=b.empty()?o.domain():b.extent(),B.brush({extent:e,brush:b}),b.empty()||b.extent(z),tt.data([b.empty()?o.domain():z]).each(function(t,e){var n=o(t[0])-o.range()[0],r=o.range()[1]-o(t[1]);d3.select(this).select(".left").attr("width",n<0?0:n),d3.select(this).select(".right").attr("x",o(t[1])).attr("width",r<0?0:r)}),d.width(Y).height(R).color(r.map(function(t,e){return t.color||I(t,e)}).filter(function(t,e){return!r[e].disabled&&r[e].bar})),c.width(Y).height(R).color(r.map(function(t,e){return t.color||I(t,e)}).filter(function(t,e){return!r[e].disabled&&!r[e].bar}));var t=q.select(".nv-focus .nv-barsWrap").datum(X.length?X.map(function(t,n){return{key:t.key,values:t.values.filter(function(t,n){return d.x()(t,n)>=e[0]&&d.x()(t,n)<=e[1]})}}):[{values:[]}]),l=q.select(".nv-focus .nv-linesWrap").datum(Z[0].disabled?[{values:[]}]:Z.map(function(t,n){return{key:t.key,values:t.values.filter(function(t,n){return c.x()(t,n)>=e[0]&&c.x()(t,n)<=e[1]})}}));n=X.length?d.xScale():c.xScale(),f.scale(n).ticks(Y/100).tickSize(-R,0),f.domain([Math.ceil(e[0]),Math.floor(e[1])]),q.select(".nv-x.nv-axis").transition().duration(H).call(f),t.transition().duration(H).call(d),l.transition().duration(H).call(c),q.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+a.range()[0]+")"),g.scale(a).ticks(R/36).tickSize(-Y,0),q.select(".nv-focus .nv-y1.nv-axis").style("opacity",X.length?1:0),v.scale(i).ticks(R/36).tickSize(X.length?0:-Y,0),q.select(".nv-focus .nv-y2.nv-axis").style("opacity",Z.length?1:0).attr("transform","translate("+n.range()[1]+",0)"),q.select(".nv-focus .nv-y1.nv-axis").transition().duration(H).call(g),q.select(".nv-focus .nv-y2.nv-axis").transition().duration(H).call(v)}var T=d3.select(this),E=this,Y=(A||parseInt(T.style("width"))||960)-k.left-k.right,R=(S||parseInt(T.style("height"))||400)-k.top-k.bottom-C,V=C-w.top-w.bottom;if(t.update=function(){T.transition().duration(H).call(t)},t.container=this,!r||!r.length||!r.filter(function(t){return t.values.length}).length){var _=T.selectAll(".nv-noData").data([L]);return _.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),_.attr("x",k.left+Y/2).attr("y",k.top+R/2).text(function(t){return t}),t}T.selectAll(".nv-noData").remove();var X=r.filter(function(t){return!t.disabled&&t.bar}),Z=r.filter(function(t){return!t.bar});n=d.xScale(),o=h.scale(),a=d.yScale(),i=c.yScale(),l=p.yScale(),s=u.yScale();var G=r.filter(function(t){return!t.disabled&&t.bar}).map(function(t){return t.values.map(function(t,e){return{x:M(t,e),y:D(t,e)}})}),O=r.filter(function(t){return!t.disabled&&!t.bar}).map(function(t){return t.values.map(function(t,e){return{x:M(t,e),y:D(t,e)}})});n.range([0,Y]),o.domain(d3.extent(d3.merge(G.concat(O)),function(t){return t.x})).range([0,Y]);var K=T.selectAll("g.nv-wrap.nv-linePlusBar").data([r]),j=K.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),q=K.select("g");j.append("g").attr("class","nv-legendWrap");var U=j.append("g").attr("class","nv-focus");U.append("g").attr("class","nv-x nv-axis"),U.append("g").attr("class","nv-y1 nv-axis"),U.append("g").attr("class","nv-y2 nv-axis"),U.append("g").attr("class","nv-barsWrap"),U.append("g").attr("class","nv-linesWrap");var $=j.append("g").attr("class","nv-context");$.append("g").attr("class","nv-x nv-axis"),$.append("g").attr("class","nv-y1 nv-axis"),$.append("g").attr("class","nv-y2 nv-axis"),$.append("g").attr("class","nv-barsWrap"),$.append("g").attr("class","nv-linesWrap"),$.append("g").attr("class","nv-brushBackground"),$.append("g").attr("class","nv-x nv-brush"),W&&(y.width(Y/2),q.select(".nv-legendWrap").datum(r.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(t.bar?" (left axis)":" (right axis)"),t})).call(y),k.top!=y.height()&&(k.top=y.height(),R=(S||parseInt(T.style("height"))||400)-k.top-k.bottom-C),q.select(".nv-legendWrap").attr("transform","translate("+Y/2+","+-k.top+")")),K.attr("transform","translate("+k.left+","+k.top+")"),p.width(Y).height(V).color(r.map(function(t,e){return t.color||I(t,e)}).filter(function(t,e){return!r[e].disabled&&r[e].bar})),u.width(Y).height(V).color(r.map(function(t,e){return t.color||I(t,e)}).filter(function(t,e){return!r[e].disabled&&!r[e].bar}));var J=q.select(".nv-context .nv-barsWrap").datum(X.length?X:[{values:[]}]),Q=q.select(".nv-context .nv-linesWrap").datum(Z[0].disabled?[{values:[]}]:Z);q.select(".nv-context").attr("transform","translate(0,"+(R+k.bottom+w.top)+")"),J.transition().call(p),Q.transition().call(u),b.x(o).on("brush",N),z&&b.extent(z);var tt=q.select(".nv-brushBackground").selectAll("g").data([z||b.extent()]),et=tt.enter().append("g");et.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",V),et.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",V);var nt=q.select(".nv-x.nv-brush").call(b);nt.selectAll("rect").attr("height",V),nt.selectAll(".resize").append("path").attr("d",function(t){var e=+("e"==t),n=e?1:-1,r=V/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}),h.ticks(Y/100).tickSize(-V,0),q.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+l.range()[0]+")"),q.select(".nv-context .nv-x.nv-axis").transition().call(h),m.scale(l).ticks(V/36).tickSize(-Y,0),q.select(".nv-context .nv-y1.nv-axis").style("opacity",X.length?1:0).attr("transform","translate(0,"+o.range()[0]+")"),q.select(".nv-context .nv-y1.nv-axis").transition().call(m),x.scale(s).ticks(V/36).tickSize(X.length?0:-Y,0),q.select(".nv-context .nv-y2.nv-axis").style("opacity",Z.length?1:0).attr("transform","translate("+o.range()[1]+",0)"),q.select(".nv-context .nv-y2.nv-axis").transition().call(x),y.dispatch.on("stateChange",function(e){t.update()}),B.on("tooltipShow",function(t){F&&P(t,E.parentNode)}),N()}),t}var e,n,o,a,i,l,s,c=r.models.line(),u=r.models.line(),d=r.models.historicalBar(),p=r.models.historicalBar(),f=r.models.axis(),h=r.models.axis(),g=r.models.axis(),v=r.models.axis(),m=r.models.axis(),x=r.models.axis(),y=r.models.legend(),b=d3.svg.brush(),k={top:30,right:30,bottom:30,left:60},w={top:0,right:30,bottom:20,left:60},A=null,S=null,C=100,M=function(t){return t.x},D=function(t){return t.y},I=r.utils.defaultColor(),W=!0,z=null,F=!0,N=function(t,e,n,r,o){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},L="No Data Available.",B=d3.dispatch("tooltipShow","tooltipHide","brush"),H=0;c.clipEdge(!0),u.interactive(!1),f.orient("bottom").tickPadding(5),g.orient("left"),v.orient("right"),h.orient("bottom").tickPadding(5),m.orient("left"),x.orient("right");var P=function(n,o){e&&(n.pointIndex+=Math.ceil(e[0]));var a=n.pos[0]+(o.offsetLeft||0),i=n.pos[1]+(o.offsetTop||0),l=f.tickFormat()(c.x()(n.point,n.pointIndex)),s=(n.series.bar?g:v).tickFormat()(c.y()(n.point,n.pointIndex)),u=N(n.series.key,l,s,n,t);r.tooltip.show([a,i],u,n.value<0?"n":"s",null,o)};return c.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+k.left,t.pos[1]+k.top],B.tooltipShow(t)}),c.dispatch.on("elementMouseout.tooltip",function(t){B.tooltipHide(t)}),d.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+k.left,t.pos[1]+k.top],B.tooltipShow(t)}),d.dispatch.on("elementMouseout.tooltip",function(t){B.tooltipHide(t)}),B.on("tooltipHide",function(){F&&r.tooltip.cleanup()}),t.dispatch=B,t.legend=y,t.lines=c,t.lines2=u,t.bars=d,t.bars2=p,t.xAxis=f,t.x2Axis=h,t.y1Axis=g,t.y2Axis=v,t.y3Axis=m,t.y4Axis=x,d3.rebind(t,c,"defined","size","clipVoronoi","interpolate"),t.options=r.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(M=e,c.x(e),d.x(e),t):M},t.y=function(e){return arguments.length?(D=e,c.y(e),d.y(e),t):D},t.margin=function(e){return arguments.length?(k.top=void 0!==e.top?e.top:k.top,k.right=void 0!==e.right?e.right:k.right,k.bottom=void 0!==e.bottom?e.bottom:k.bottom,k.left=void 0!==e.left?e.left:k.left,t):k},t.width=function(e){return arguments.length?(A=e,t):A},t.height=function(e){return arguments.length?(S=e,t):S},t.color=function(e){return arguments.length?(I=r.utils.getColor(e),y.color(I),t):I},t.showLegend=function(e){return arguments.length?(W=e,t):W},t.tooltips=function(e){return arguments.length?(F=e,t):F},t.tooltipContent=function(e){return arguments.length?(N=e,t):N},t.noData=function(e){return arguments.length?(L=e,t):L},t.brushExtent=function(e){return arguments.length?(z=e,t):z},t},r.models.multiBar=function(){"use strict";function t(r){return r.each(function(t){var r=u-c.left-c.right,D=d-c.top-c.bottom,I=d3.select(this);w&&t.length&&(w=[{values:t[0].values.map(function(t){return{x:t.x,y:0,series:t.series,size:.01}})}]),y&&(t=d3.layout.stack().offset(b).values(function(t){return t.values}).y(v)(!t.length&&w?w:t)),t.forEach(function(t,e){t.values.forEach(function(t){t.series=e})}),y&&t[0].values.map(function(e,n){var r=0,o=0;t.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),e.y<0?(e.y1=o,o-=e.size):(e.y1=e.size+r,r+=e.size)})});var W=n&&o?[]:t.map(function(t){return t.values.map(function(t,e){return{x:g(t,e),y:v(t,e),y0:t.y0,y1:t.y1}})});p.domain(n||d3.merge(W).map(function(t){return t.x})).rangeBands(a||[0,r],C),f.domain(o||d3.extent(d3.merge(W).map(function(t){return y?t.y>0?t.y1:t.y1+t.y:t.y}).concat(m))).range(i||[D,0]),p.domain()[0]===p.domain()[1]&&(p.domain()[0]?p.domain([p.domain()[0]-.01*p.domain()[0],p.domain()[1]+.01*p.domain()[1]]):p.domain([-1,1])),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1])),l=l||p,s=s||f;var z=I.selectAll("g.nv-wrap.nv-multibar").data([t]),F=z.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),N=F.append("defs"),L=F.append("g"),B=z.select("g");L.append("g").attr("class","nv-groups"),z.attr("transform","translate("+c.left+","+c.top+")"),N.append("clipPath").attr("id","nv-edge-clip-"+h).append("rect"),z.select("#nv-edge-clip-"+h+" rect").attr("width",r).attr("height",D),B.attr("clip-path",x?"url(#nv-edge-clip-"+h+")":"");var H=z.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});H.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),H.exit().transition().selectAll("rect.nv-bar").delay(function(e,n){return n*S/t[0].values.length}).attr("y",function(t){return s(y?t.y0:0)}).attr("height",0).remove(),H.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return k(t,e)}).style("stroke",function(t,e){return k(t,e)}),H.transition().style("stroke-opacity",1).style("fill-opacity",.75);var P=H.selectAll("rect.nv-bar").data(function(e){return w&&!t.length?w.values:e.values});P.exit().remove();P.enter().append("rect").attr("class",function(t,e){return v(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(e,n,r){return y?0:r*p.rangeBand()/t.length}).attr("y",function(t){return s(y?t.y0:0)}).attr("height",0).attr("width",p.rangeBand()/(y?1:t.length)).attr("transform",function(t,e){return"translate("+p(g(t,e))+",0)"});P.style("fill",function(t,e,n){return k(t,n,e)}).style("stroke",function(t,e,n){return k(t,n,e)}).on("mouseover",function(e,n){d3.select(this).classed("hover",!0),M.elementMouseover({value:v(e,n),point:e,series:t[e.series],pos:[p(g(e,n))+p.rangeBand()*(y?t.length/2:e.series+.5)/t.length,f(v(e,n)+(y?e.y0:0))],pointIndex:n,seriesIndex:e.series,e:d3.event})}).on("mouseout",function(e,n){d3.select(this).classed("hover",!1),M.elementMouseout({value:v(e,n),point:e,series:t[e.series],pointIndex:n,seriesIndex:e.series,e:d3.event})}).on("click",function(e,n){M.elementClick({value:v(e,n),point:e,series:t[e.series],pos:[p(g(e,n))+p.rangeBand()*(y?t.length/2:e.series+.5)/t.length,f(v(e,n)+(y?e.y0:0))],pointIndex:n,seriesIndex:e.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(e,n){M.elementDblClick({value:v(e,n),point:e,series:t[e.series],pos:[p(g(e,n))+p.rangeBand()*(y?t.length/2:e.series+.5)/t.length,f(v(e,n)+(y?e.y0:0))],pointIndex:n,seriesIndex:e.series,e:d3.event}),d3.event.stopPropagation()}),P.attr("class",function(t,e){return v(t,e)<0?"nv-bar negative":"nv-bar positive"}).transition().attr("transform",function(t,e){return"translate("+p(g(t,e))+",0)"}),A&&(e||(e=t.map(function(){return!0})),P.style("fill",function(t,n,r){return d3.rgb(A(t,n)).darker(e.map(function(t,e){return e}).filter(function(t,n){return!e[n]})[r]).toString()}).style("stroke",function(t,n,r){return d3.rgb(A(t,n)).darker(e.map(function(t,e){return e}).filter(function(t,n){return!e[n]})[r]).toString()})),y?P.transition().delay(function(e,n){return n*S/t[0].values.length}).attr("y",function(t,e){return f(y?t.y1:0)}).attr("height",function(t,e){return Math.max(Math.abs(f(t.y+(y?t.y0:0))-f(y?t.y0:0)),1)}).attr("x",function(e,n){return y?0:e.series*p.rangeBand()/t.length}).attr("width",p.rangeBand()/(y?1:t.length)):P.transition().delay(function(e,n){return n*S/t[0].values.length}).attr("x",function(e,n){return e.series*p.rangeBand()/t.length}).attr("width",p.rangeBand()/t.length).attr("y",function(t,e){return v(t,e)<0?f(0):f(0)-f(v(t,e))<1?f(0)-1:f(v(t,e))||0}).attr("height",function(t,e){return Math.max(Math.abs(f(v(t,e))-f(0)),1)||0}),l=p.copy(),s=f.copy()}),t}var e,n,o,a,i,l,s,c={top:0,right:0,bottom:0,left:0},u=960,d=500,p=d3.scale.ordinal(),f=d3.scale.linear(),h=Math.floor(1e4*Math.random()),g=function(t){return t.x},v=function(t){return t.y},m=[0],x=!0,y=!1,b="zero",k=r.utils.defaultColor(),w=!1,A=null,S=1200,C=.1,M=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return t.dispatch=M,t.options=r.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(g=e,t):g},t.y=function(e){return arguments.length?(v=e,t):v},t.margin=function(e){return arguments.length?(c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left,t):c},t.width=function(e){return arguments.length?(u=e,t):u},t.height=function(e){return arguments.length?(d=e,t):d},t.xScale=function(e){return arguments.length?(p=e,t):p},t.yScale=function(e){return arguments.length?(f=e,t):f},t.xDomain=function(e){return arguments.length?(n=e,t):n},t.yDomain=function(e){return arguments.length?(o=e,t):o},t.xRange=function(e){return arguments.length?(a=e,t):a},t.yRange=function(e){return arguments.length?(i=e,t):i},t.forceY=function(e){return arguments.length?(m=e,t):m},t.stacked=function(e){return arguments.length?(y=e,t):y},t.stackOffset=function(e){return arguments.length?(b=e,t):b},t.clipEdge=function(e){return arguments.length?(x=e,t):x},t.color=function(e){return arguments.length?(k=r.utils.getColor(e),t):k},t.barColor=function(e){return arguments.length?(A=r.utils.getColor(e),t):A},t.disabled=function(n){return arguments.length?(e=n,t):e},t.id=function(e){return arguments.length?(h=e,t):h},t.hideable=function(e){return arguments.length?(w=e,t):w},t.delay=function(e){return arguments.length?(S=e,t):S},t.groupSpacing=function(e){return arguments.length?(C=e,t):C},t},r.models.multiBarChart=function(){"use strict";function t(r){return r.each(function(r){var w=d3.select(this),z=this,F=(u||parseInt(w.style("width"))||960)-c.left-c.right,N=(d||parseInt(w.style("height"))||400)-c.top-c.bottom;if(t.update=function(){w.transition().duration(I).call(t)},t.container=this,A.disabled=r.map(function(t){return!!t.disabled}),!S){var L;S={};for(L in A)A[L]instanceof Array?S[L]=A[L].slice(0):S[L]=A[L]}if(!r||!r.length||!r.filter(function(t){return t.values.length}).length){var B=w.selectAll(".nv-noData").data([C]);return B.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),B.attr("x",c.left+F/2).attr("y",c.top+N/2).text(function(t){return t}),t}w.selectAll(".nv-noData").remove(),e=o.xScale(),n=o.yScale();var H=w.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([r]),P=H.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),T=H.select("g");if(P.append("g").attr("class","nv-x nv-axis"),P.append("g").attr("class","nv-y nv-axis"),P.append("g").attr("class","nv-barsWrap"),P.append("g").attr("class","nv-legendWrap"),P.append("g").attr("class","nv-controlsWrap"),h&&(l.width(F-D()),o.barColor()&&r.forEach(function(t,e){t.color=d3.rgb("#ccc").darker(1.5*e).toString()}),T.select(".nv-legendWrap").datum(r).call(l),c.top!=l.height()&&(c.top=l.height(),N=(d||parseInt(w.style("height"))||400)-c.top-c.bottom),T.select(".nv-legendWrap").attr("transform","translate("+D()+","+-c.top+")")),f){var E=[{key:"Grouped",disabled:o.stacked()},{key:"Stacked",disabled:!o.stacked()}];s.width(D()).color(["#444","#444","#444"]),T.select(".nv-controlsWrap").datum(E).attr("transform","translate(0,"+-c.top+")").call(s)}if(H.attr("transform","translate("+c.left+","+c.top+")"),m&&T.select(".nv-y.nv-axis").attr("transform","translate("+F+",0)"),o.disabled(r.map(function(t){return t.disabled})).width(F).height(N).color(r.map(function(t,e){return t.color||p(t,e)}).filter(function(t,e){return!r[e].disabled})),T.select(".nv-barsWrap").datum(r.filter(function(t){return!t.disabled})).transition().call(o),g){a.scale(e).ticks(F/100).tickSize(-N,0),T.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")"),T.select(".nv-x.nv-axis").transition().call(a);var Y=T.select(".nv-x.nv-axis > g").selectAll("g");if(Y.selectAll("line, text").style("opacity",1),y){var R=function(t,e){return"translate("+t+","+e+")"};Y.selectAll("text").attr("transform",function(t,e,n){return R(0,n%2==0?5:17)});var V=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;T.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(t,e){return R(0,0===e||V%2!=0?17:5)})}x&&Y.filter(function(t,e){return e%Math.ceil(r[0].values.length/(F/100))!=0}).selectAll("text, line").style("opacity",0),b&&Y.selectAll(".tick text").attr("transform","rotate("+b+" 0,0)").style("text-anchor",b>0?"start":"end"),T.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}v&&(i.scale(n).ticks(N/36).tickSize(-F,0),T.select(".nv-y.nv-axis").transition().call(i)),l.dispatch.on("stateChange",function(e){A=e,M.stateChange(A),t.update()}),s.dispatch.on("legendClick",function(e,n){if(e.disabled){switch(E=E.map(function(t){return t.disabled=!0,t}),e.disabled=!1,e.key){case"Grouped":o.stacked(!1);break;case"Stacked":o.stacked(!0)}A.stacked=o.stacked(),M.stateChange(A),t.update()}}),M.on("tooltipShow",function(t){k&&W(t,z.parentNode)}),M.on("changeState",function(e){void 0!==e.disabled&&(r.forEach(function(t,n){t.disabled=e.disabled[n]}),A.disabled=e.disabled),void 0!==e.stacked&&(o.stacked(e.stacked),A.stacked=e.stacked),t.update()})}),t}var e,n,o=r.models.multiBar(),a=r.models.axis(),i=r.models.axis(),l=r.models.legend(),s=r.models.legend(),c={top:30,right:20,bottom:50,left:60},u=null,d=null,p=r.utils.defaultColor(),f=!0,h=!0,g=!0,v=!0,m=!1,x=!0,y=!1,b=0,k=!0,w=function(t,e,n,r,o){return"<h3>"+t+"</h3><p>"+n+" on "+e+"</p>"},A={stacked:!1},S=null,C="No Data Available.",M=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),D=function(){return f?180:0},I=250;o.stacked(!1),a.orient("bottom").tickPadding(7).highlightZero(!0).showMaxMin(!1).tickFormat(function(t){return t}),i.orient(m?"right":"left").tickFormat(d3.format(",.1f")),s.updateState(!1);var W=function(e,n){var l=e.pos[0]+(n.offsetLeft||0),s=e.pos[1]+(n.offsetTop||0),c=a.tickFormat()(o.x()(e.point,e.pointIndex)),u=i.tickFormat()(o.y()(e.point,e.pointIndex)),d=w(e.series.key,c,u,e,t);r.tooltip.show([l,s],d,e.value<0?"n":"s",null,n)};return o.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+c.left,t.pos[1]+c.top],M.tooltipShow(t)}),o.dispatch.on("elementMouseout.tooltip",function(t){M.tooltipHide(t)}),M.on("tooltipHide",function(){k&&r.tooltip.cleanup()}),t.dispatch=M,t.multibar=o,t.legend=l,t.xAxis=a,t.yAxis=i,d3.rebind(t,o,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","stacked","stackOffset","delay","barColor","groupSpacing"),t.options=r.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left,t):c},t.width=function(e){return arguments.length?(u=e,t):u},t.height=function(e){return arguments.length?(d=e,t):d},t.color=function(e){return arguments.length?(p=r.utils.getColor(e),l.color(p),t):p},t.showControls=function(e){return arguments.length?(f=e,t):f},t.showLegend=function(e){return arguments.length?(h=e,t):h},t.showXAxis=function(e){return arguments.length?(g=e,t):g},t.showYAxis=function(e){return arguments.length?(v=e,t):v},t.rightAlignYAxis=function(e){return arguments.length?(m=e,i.orient(e?"right":"left"),t):m},t.reduceXTicks=function(e){return arguments.length?(x=e,t):x},t.rotateLabels=function(e){return arguments.length?(b=e,t):b},t.staggerLabels=function(e){return arguments.length?(y=e,t):y},t.tooltip=function(e){return arguments.length?(w=e,t):w},t.tooltips=function(e){return arguments.length?(k=e,t):k},t.tooltipContent=function(e){return arguments.length?(w=e,t):w},t.state=function(e){return arguments.length?(A=e,t):A},t.defaultState=function(e){return arguments.length?(S=e,t):S},t.noData=function(e){return arguments.length?(C=e,t):C},t.transitionDuration=function(e){return arguments.length?(I=e,t):I},t},r.models.multiBarHorizontal=function(){"use strict";function t(r){return r.each(function(t){var r=u-c.left-c.right,p=d-c.top-c.bottom;d3.select(this);b&&(t=d3.layout.stack().offset("zero").values(function(t){return t.values}).y(v)(t)),t.forEach(function(t,e){t.values.forEach(function(t){t.series=e})}),b&&t[0].values.map(function(e,n){var r=0,o=0;t.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),e.y<0?(e.y1=o-e.size,o-=e.size):(e.y1=r,r+=e.size)})});var C=n&&o?[]:t.map(function(t){return t.values.map(function(t,e){return{x:g(t,e),y:v(t,e),y0:t.y0,y1:t.y1}})});f.domain(n||d3.merge(C).map(function(t){return t.x})).rangeBands(a||[0,p],.1),h.domain(o||d3.extent(d3.merge(C).map(function(t){return b?t.y>0?t.y1+t.y:t.y1:t.y}).concat(m))),k&&!b?h.range(i||[h.domain()[0]<0?A:0,r-(h.domain()[1]>0?A:0)]):h.range(i||[0,r]),l=l||f,s=s||d3.scale.linear().domain(h.domain()).range([h(0),h(0)]);var D=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([t]),I=D.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),W=(I.append("defs"),I.append("g"));D.select("g");W.append("g").attr("class","nv-groups"),D.attr("transform","translate("+c.left+","+c.top+")");var z=D.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});z.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),z.exit().transition().style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),z.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return x(t,e)}).style("stroke",function(t,e){return x(t,e)}),z.transition().style("stroke-opacity",1).style("fill-opacity",.75);var F=z.selectAll("g.nv-bar").data(function(t){return t.values});F.exit().remove();var N=F.enter().append("g").attr("transform",function(e,n,r){return"translate("+s(b?e.y0:0)+","+(b?0:r*f.rangeBand()/t.length+f(g(e,n)))+")"});N.append("rect").attr("width",0).attr("height",f.rangeBand()/(b?1:t.length)),F.on("mouseover",function(e,n){d3.select(this).classed("hover",!0),M.elementMouseover({value:v(e,n),point:e,series:t[e.series],pos:[h(v(e,n)+(b?e.y0:0)),f(g(e,n))+f.rangeBand()*(b?t.length/2:e.series+.5)/t.length],pointIndex:n,seriesIndex:e.series,e:d3.event})}).on("mouseout",function(e,n){d3.select(this).classed("hover",!1),M.elementMouseout({value:v(e,n),point:e,series:t[e.series],pointIndex:n,seriesIndex:e.series,e:d3.event})}).on("click",function(e,n){M.elementClick({value:v(e,n),point:e,series:t[e.series],pos:[f(g(e,n))+f.rangeBand()*(b?t.length/2:e.series+.5)/t.length,h(v(e,n)+(b?e.y0:0))],pointIndex:n,seriesIndex:e.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(e,n){M.elementDblClick({value:v(e,n),point:e,series:t[e.series],pos:[f(g(e,n))+f.rangeBand()*(b?t.length/2:e.series+.5)/t.length,h(v(e,n)+(b?e.y0:0))],pointIndex:n,seriesIndex:e.series,e:d3.event}),d3.event.stopPropagation()}),N.append("text"),k&&!b?(F.select("text").attr("text-anchor",function(t,e){return v(t,e)<0?"end":"start"}).attr("y",f.rangeBand()/(2*t.length)).attr("dy",".32em").text(function(t,e){return S(v(t,e))}),F.transition().select("text").attr("x",function(t,e){return v(t,e)<0?-4:h(v(t,e))-h(0)+4})):F.selectAll("text").text(""),w&&!b?(N.append("text").classed("nv-bar-label",!0),F.select("text.nv-bar-label").attr("text-anchor",function(t,e){return v(t,e)<0?"start":"end"}).attr("y",f.rangeBand()/(2*t.length)).attr("dy",".32em").text(function(t,e){return g(t,e)}),F.transition().select("text.nv-bar-label").attr("x",function(t,e){return v(t,e)<0?h(0)-h(v(t,e))+4:-4})):F.selectAll("text.nv-bar-label").text(""),F.attr("class",function(t,e){return v(t,e)<0?"nv-bar negative":"nv-bar positive"}),y&&(e||(e=t.map(function(){return!0})),F.style("fill",function(t,n,r){return d3.rgb(y(t,n)).darker(e.map(function(t,e){return e}).filter(function(t,n){return!e[n]})[r]).toString()}).style("stroke",function(t,n,r){return d3.rgb(y(t,n)).darker(e.map(function(t,e){return e}).filter(function(t,n){return!e[n]})[r]).toString()})),b?F.transition().attr("transform",function(t,e){return"translate("+h(t.y1)+","+f(g(t,e))+")"}).select("rect").attr("width",function(t,e){return Math.abs(h(v(t,e)+t.y0)-h(t.y0))}).attr("height",f.rangeBand()):F.transition().attr("transform",function(e,n){return"translate("+(v(e,n)<0?h(v(e,n)):h(0))+","+(e.series*f.rangeBand()/t.length+f(g(e,n)))+")"}).select("rect").attr("height",f.rangeBand()/t.length).attr("width",function(t,e){return Math.max(Math.abs(h(v(t,e))-h(0)),1)}),l=f.copy(),s=h.copy()}),t}var e,n,o,a,i,l,s,c={top:0,right:0,bottom:0,left:0},u=960,d=500,p=Math.floor(1e4*Math.random()),f=d3.scale.ordinal(),h=d3.scale.linear(),g=function(t){return t.x},v=function(t){return t.y},m=[0],x=r.utils.defaultColor(),y=null,b=!1,k=!1,w=!1,A=60,S=d3.format(",.2f"),C=1200,M=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return t.dispatch=M,t.options=r.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(g=e,t):g},t.y=function(e){return arguments.length?(v=e,t):v},t.margin=function(e){return arguments.length?(c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left,t):c},t.width=function(e){return arguments.length?(u=e,t):u},t.height=function(e){return arguments.length?(d=e,t):d},t.xScale=function(e){return arguments.length?(f=e,t):f},t.yScale=function(e){return arguments.length?(h=e,t):h},t.xDomain=function(e){return arguments.length?(n=e,t):n},t.yDomain=function(e){return arguments.length?(o=e,t):o},t.xRange=function(e){return arguments.length?(a=e,t):a},t.yRange=function(e){return arguments.length?(i=e,t):i},t.forceY=function(e){return arguments.length?(m=e,t):m},t.stacked=function(e){return arguments.length?(b=e,t):b},t.color=function(e){return arguments.length?(x=r.utils.getColor(e),t):x},t.barColor=function(e){return arguments.length?(y=r.utils.getColor(e),t):y},t.disabled=function(n){return arguments.length?(e=n,t):e},t.id=function(e){return arguments.length?(p=e,t):p},t.delay=function(e){return arguments.length?(C=e,t):C},t.showValues=function(e){return arguments.length?(k=e,t):k},t.showBarLabels=function(e){return arguments.length?(w=e,t):w},t.valueFormat=function(e){return arguments.length?(S=e,t):S},t.valuePadding=function(e){return arguments.length?(A=e,t):A},t},r.models.multiBarHorizontalChart=function(){"use strict";function t(r){return r.each(function(r){var x=d3.select(this),M=this,D=(u||parseInt(x.style("width"))||960)-c.left-c.right,I=(d||parseInt(x.style("height"))||400)-c.top-c.bottom;if(t.update=function(){x.transition().duration(S).call(t)},t.container=this,y.disabled=r.map(function(t){return!!t.disabled}),!b){var W;b={};for(W in y)y[W]instanceof Array?b[W]=y[W].slice(0):b[W]=y[W]}if(!r||!r.length||!r.filter(function(t){return t.values.length}).length){var z=x.selectAll(".nv-noData").data([k]);return z.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),z.attr("x",c.left+D/2).attr("y",c.top+I/2).text(function(t){return t}),t}x.selectAll(".nv-noData").remove(),e=o.xScale(),n=o.yScale();var F=x.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([r]),N=F.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),L=F.select("g");if(N.append("g").attr("class","nv-x nv-axis"),N.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),N.append("g").attr("class","nv-barsWrap"),N.append("g").attr("class","nv-legendWrap"),N.append("g").attr("class","nv-controlsWrap"),h&&(l.width(D-A()),o.barColor()&&r.forEach(function(t,e){t.color=d3.rgb("#ccc").darker(1.5*e).toString()}),L.select(".nv-legendWrap").datum(r).call(l),c.top!=l.height()&&(c.top=l.height(),I=(d||parseInt(x.style("height"))||400)-c.top-c.bottom),L.select(".nv-legendWrap").attr("transform","translate("+A()+","+-c.top+")")),f){var B=[{key:"Grouped",disabled:o.stacked()},{key:"Stacked",disabled:!o.stacked()}];s.width(A()).color(["#444","#444","#444"]),L.select(".nv-controlsWrap").datum(B).attr("transform","translate(0,"+-c.top+")").call(s)}(F.attr("transform","translate("+c.left+","+c.top+")"),o.disabled(r.map(function(t){return t.disabled})).width(D).height(I).color(r.map(function(t,e){return t.color||p(t,e)}).filter(function(t,e){return!r[e].disabled})),L.select(".nv-barsWrap").datum(r.filter(function(t){return!t.disabled})).transition().call(o),g)&&(a.scale(e).ticks(I/24).tickSize(-D,0),L.select(".nv-x.nv-axis").transition().call(a),L.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text"));v&&(i.scale(n).ticks(D/100).tickSize(-I,0),L.select(".nv-y.nv-axis").attr("transform","translate(0,"+I+")"),L.select(".nv-y.nv-axis").transition().call(i)),L.select(".nv-zeroLine line").attr("x1",n(0)).attr("x2",n(0)).attr("y1",0).attr("y2",-I),l.dispatch.on("stateChange",function(e){y=e,w.stateChange(y),t.update()}),s.dispatch.on("legendClick",function(e,n){if(e.disabled){switch(B=B.map(function(t){return t.disabled=!0,t}),e.disabled=!1,e.key){case"Grouped":o.stacked(!1);break;case"Stacked":o.stacked(!0)}y.stacked=o.stacked(),w.stateChange(y),t.update()}}),w.on("tooltipShow",function(t){m&&C(t,M.parentNode)}),w.on("changeState",function(e){void 0!==e.disabled&&(r.forEach(function(t,n){t.disabled=e.disabled[n]}),y.disabled=e.disabled),void 0!==e.stacked&&(o.stacked(e.stacked),y.stacked=e.stacked),t.update()})}),t}var e,n,o=r.models.multiBarHorizontal(),a=r.models.axis(),i=r.models.axis(),l=r.models.legend().height(30),s=r.models.legend().height(30),c={top:30,right:20,bottom:50,left:60},u=null,d=null,p=r.utils.defaultColor(),f=!0,h=!0,g=!0,v=!0,m=!0,x=function(t,e,n,r,o){return"<h3>"+t+" - "+e+"</h3><p>"+n+"</p>"},y={stacked:!1},b=null,k="No Data Available.",w=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),A=function(){return f?180:0},S=250;o.stacked(!1),a.orient("left").tickPadding(5).highlightZero(!1).showMaxMin(!1).tickFormat(function(t){return t}),i.orient("bottom").tickFormat(d3.format(",.1f")),s.updateState(!1);var C=function(e,n){var l=e.pos[0]+(n.offsetLeft||0),s=e.pos[1]+(n.offsetTop||0),c=a.tickFormat()(o.x()(e.point,e.pointIndex)),u=i.tickFormat()(o.y()(e.point,e.pointIndex)),d=x(e.series.key,c,u,e,t);r.tooltip.show([l,s],d,e.value<0?"e":"w",null,n)};return o.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+c.left,t.pos[1]+c.top],w.tooltipShow(t)}),o.dispatch.on("elementMouseout.tooltip",function(t){w.tooltipHide(t)}),w.on("tooltipHide",function(){m&&r.tooltip.cleanup()}),t.dispatch=w,t.multibar=o,t.legend=l,t.xAxis=a,t.yAxis=i,d3.rebind(t,o,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","delay","showValues","showBarLabels","valueFormat","stacked","barColor"),t.options=r.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left,t):c},t.width=function(e){return arguments.length?(u=e,t):u},t.height=function(e){return arguments.length?(d=e,t):d},t.color=function(e){return arguments.length?(p=r.utils.getColor(e),l.color(p),t):p},t.showControls=function(e){return arguments.length?(f=e,t):f},t.showLegend=function(e){return arguments.length?(h=e,t):h},t.showXAxis=function(e){return arguments.length?(g=e,t):g},t.showYAxis=function(e){return arguments.length?(v=e,t):v},t.tooltip=function(e){return arguments.length?(x=e,t):x},t.tooltips=function(e){return arguments.length?(m=e,t):m},t.tooltipContent=function(e){return arguments.length?(x=e,t):x},t.state=function(e){return arguments.length?(y=e,t):y},t.defaultState=function(e){return arguments.length?(b=e,t):b},t.noData=function(e){return arguments.length?(k=e,t):k},t.transitionDuration=function(e){return arguments.length?(S=e,t):S},t},r.models.multiChart=function(){"use strict";function t(r){return r.each(function(r){var u=d3.select(this),M=this;t.update=function(){u.transition().call(t)},t.container=this;var D=(i||parseInt(u.style("width"))||960)-o.left-o.right,I=(l||parseInt(u.style("height"))||400)-o.top-o.bottom,W=r.filter(function(t){return!t.disabled&&"line"==t.type&&1==t.yAxis}),z=r.filter(function(t){return!t.disabled&&"line"==t.type&&2==t.yAxis}),F=r.filter(function(t){return!t.disabled&&"bar"==t.type&&1==t.yAxis}),N=r.filter(function(t){return!t.disabled&&"bar"==t.type&&2==t.yAxis}),L=r.filter(function(t){return!t.disabled&&"area"==t.type&&1==t.yAxis}),B=r.filter(function(t){return!t.disabled&&"area"==t.type&&2==t.yAxis}),H=r.filter(function(t){return!t.disabled&&1==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:t.x,y:t.y}})}),P=r.filter(function(t){return!t.disabled&&2==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:t.x,y:t.y}})});d.domain(d3.extent(d3.merge(H.concat(P)),function(t){return t.x})).range([0,D]);var T=u.selectAll("g.wrap.multiChart").data([r]),E=T.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");E.append("g").attr("class","x axis"),E.append("g").attr("class","y1 axis"),E.append("g").attr("class","y2 axis"),E.append("g").attr("class","lines1Wrap"),E.append("g").attr("class","lines2Wrap"),E.append("g").attr("class","bars1Wrap"),E.append("g").attr("class","bars2Wrap"),E.append("g").attr("class","stack1Wrap"),E.append("g").attr("class","stack2Wrap"),E.append("g").attr("class","legendWrap");var Y=T.select("g");s&&(A.width(D/2),Y.select(".legendWrap").datum(r.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":" (right axis)"),t})).call(A),o.top!=A.height()&&(o.top=A.height(),I=(l||parseInt(u.style("height"))||400)-o.top-o.bottom),Y.select(".legendWrap").attr("transform","translate("+D/2+","+-o.top+")")),h.width(D).height(I).interpolate("monotone").color(r.map(function(t,e){return t.color||a[e%a.length]}).filter(function(t,e){return!r[e].disabled&&1==r[e].yAxis&&"line"==r[e].type})),g.width(D).height(I).interpolate("monotone").color(r.map(function(t,e){return t.color||a[e%a.length]}).filter(function(t,e){return!r[e].disabled&&2==r[e].yAxis&&"line"==r[e].type})),v.width(D).height(I).color(r.map(function(t,e){return t.color||a[e%a.length]}).filter(function(t,e){return!r[e].disabled&&1==r[e].yAxis&&"bar"==r[e].type})),m.width(D).height(I).color(r.map(function(t,e){return t.color||a[e%a.length]}).filter(function(t,e){return!r[e].disabled&&2==r[e].yAxis&&"bar"==r[e].type})),x.width(D).height(I).color(r.map(function(t,e){return t.color||a[e%a.length]}).filter(function(t,e){return!r[e].disabled&&1==r[e].yAxis&&"area"==r[e].type})),y.width(D).height(I).color(r.map(function(t,e){return t.color||a[e%a.length]}).filter(function(t,e){return!r[e].disabled&&2==r[e].yAxis&&"area"==r[e].type})),Y.attr("transform","translate("+o.left+","+o.top+")");var R=Y.select(".lines1Wrap").datum(W),V=Y.select(".bars1Wrap").datum(F),_=Y.select(".stack1Wrap").datum(L),X=Y.select(".lines2Wrap").datum(z),Z=Y.select(".bars2Wrap").datum(N),G=Y.select(".stack2Wrap").datum(B),O=L.length?L.map(function(t){return t.values}).reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})}).concat([{x:0,y:0}]):[],K=B.length?B.map(function(t){return t.values}).reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})}).concat([{x:0,y:0}]):[];p.domain(e||d3.extent(d3.merge(H).concat(O),function(t){return t.y})).range([0,I]),f.domain(n||d3.extent(d3.merge(P).concat(K),function(t){return t.y})).range([0,I]),h.yDomain(p.domain()),v.yDomain(p.domain()),x.yDomain(p.domain()),g.yDomain(f.domain()),m.yDomain(f.domain()),y.yDomain(f.domain()),L.length&&d3.transition(_).call(x),B.length&&d3.transition(G).call(y),F.length&&d3.transition(V).call(v),N.length&&d3.transition(Z).call(m),W.length&&d3.transition(R).call(h),z.length&&d3.transition(X).call(g),b.ticks(D/100).tickSize(-I,0),Y.select(".x.axis").attr("transform","translate(0,"+I+")"),d3.transition(Y.select(".x.axis")).call(b),k.ticks(I/36).tickSize(-D,0),d3.transition(Y.select(".y1.axis")).call(k),w.ticks(I/36).tickSize(-D,0),d3.transition(Y.select(".y2.axis")).call(w),Y.select(".y2.axis").style("opacity",P.length?1:0).attr("transform","translate("+d.range()[1]+",0)"),A.dispatch.on("stateChange",function(e){t.update()}),S.on("tooltipShow",function(t){c&&C(t,M.parentNode)})}),t}var e,n,o={top:30,right:20,bottom:50,left:60},a=d3.scale.category20().range(),i=null,l=null,s=!0,c=!0,u=function(t,e,n,r,o){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},d=d3.scale.linear(),p=d3.scale.linear(),f=d3.scale.linear(),h=r.models.line().yScale(p),g=r.models.line().yScale(f),v=r.models.multiBar().stacked(!1).yScale(p),m=r.models.multiBar().stacked(!1).yScale(f),x=r.models.stackedArea().yScale(p),y=r.models.stackedArea().yScale(f),b=r.models.axis().scale(d).orient("bottom").tickPadding(5),k=r.models.axis().scale(p).orient("left"),w=r.models.axis().scale(f).orient("right"),A=r.models.legend().height(30),S=d3.dispatch("tooltipShow","tooltipHide"),C=function(e,n){var o=e.pos[0]+(n.offsetLeft||0),a=e.pos[1]+(n.offsetTop||0),i=b.tickFormat()(h.x()(e.point,e.pointIndex)),l=(2==e.series.yAxis?w:k).tickFormat()(h.y()(e.point,e.pointIndex)),s=u(e.series.key,i,l,e,t);r.tooltip.show([o,a],s,void 0,void 0,n.offsetParent)};return h.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+o.left,t.pos[1]+o.top],S.tooltipShow(t)}),h.dispatch.on("elementMouseout.tooltip",function(t){S.tooltipHide(t)}),g.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+o.left,t.pos[1]+o.top],S.tooltipShow(t)}),g.dispatch.on("elementMouseout.tooltip",function(t){S.tooltipHide(t)}),v.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+o.left,t.pos[1]+o.top],S.tooltipShow(t)}),v.dispatch.on("elementMouseout.tooltip",function(t){S.tooltipHide(t)}),m.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+o.left,t.pos[1]+o.top],S.tooltipShow(t)}),m.dispatch.on("elementMouseout.tooltip",function(t){S.tooltipHide(t)}),x.dispatch.on("tooltipShow",function(t){if(!Math.round(100*x.y()(t.point)))return setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1;t.pos=[t.pos[0]+o.left,t.pos[1]+o.top],S.tooltipShow(t)}),x.dispatch.on("tooltipHide",function(t){S.tooltipHide(t)}),y.dispatch.on("tooltipShow",function(t){if(!Math.round(100*y.y()(t.point)))return setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1;t.pos=[t.pos[0]+o.left,t.pos[1]+o.top],S.tooltipShow(t)}),y.dispatch.on("tooltipHide",function(t){S.tooltipHide(t)}),h.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+o.left,t.pos[1]+o.top],S.tooltipShow(t)}),h.dispatch.on("elementMouseout.tooltip",function(t){S.tooltipHide(t)}),g.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+o.left,t.pos[1]+o.top],S.tooltipShow(t)}),g.dispatch.on("elementMouseout.tooltip",function(t){S.tooltipHide(t)}),S.on("tooltipHide",function(){c&&r.tooltip.cleanup()}),t.dispatch=S,t.lines1=h,t.lines2=g,t.bars1=v,t.bars2=m,t.stack1=x,t.stack2=y,t.xAxis=b,t.yAxis1=k,t.yAxis2=w,t.options=r.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(getX=e,h.x(e),v.x(e),t):getX},t.y=function(e){return arguments.length?(getY=e,h.y(e),v.y(e),t):getY},t.yDomain1=function(n){return arguments.length?(e=n,t):e},t.yDomain2=function(e){return arguments.length?(n=e,t):n},t.margin=function(e){return arguments.length?(o=e,t):o},t.width=function(e){return arguments.length?(i=e,t):i},t.height=function(e){return arguments.length?(l=e,t):l},t.color=function(e){return arguments.length?(a=e,A.color(e),t):a},t.showLegend=function(e){return arguments.length?(s=e,t):s},t.tooltips=function(e){return arguments.length?(c=e,t):c},t.tooltipContent=function(e){return arguments.length?(u=e,t):u},t},r.models.ohlcBar=function(){"use strict";function t(r){return r.each(function(t){var r=l-i.left-i.right,w=s-i.top-i.bottom,S=d3.select(this);u.domain(e||d3.extent(t[0].values.map(p).concat(x))),b?u.range(o||[.5*r/t[0].values.length,r*(t[0].values.length-.5)/t[0].values.length]):u.range(o||[0,r]),d.domain(n||[d3.min(t[0].values.map(m).concat(y)),d3.max(t[0].values.map(v).concat(y))]).range(a||[w,0]),u.domain()[0]===u.domain()[1]&&(u.domain()[0]?u.domain([u.domain()[0]-.01*u.domain()[0],u.domain()[1]+.01*u.domain()[1]]):u.domain([-1,1])),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+.01*d.domain()[0],d.domain()[1]-.01*d.domain()[1]]):d.domain([-1,1]));var C=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([t[0].values]),M=C.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),D=M.append("defs"),I=M.append("g"),W=C.select("g");I.append("g").attr("class","nv-ticks"),C.attr("transform","translate("+i.left+","+i.top+")"),S.on("click",function(t,e){A.chartClick({data:t,index:e,pos:d3.event,id:c})}),D.append("clipPath").attr("id","nv-chart-clip-path-"+c).append("rect"),C.select("#nv-chart-clip-path-"+c+" rect").attr("width",r).attr("height",w),W.attr("clip-path",k?"url(#nv-chart-clip-path-"+c+")":"");var z=C.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});z.exit().remove();z.enter().append("path").attr("class",function(t,e,n){return(h(t,e)>g(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}).attr("d",function(e,n){var o=r/t[0].values.length*.9;return"m0,0l0,"+(d(h(e,n))-d(v(e,n)))+"l"+-o/2+",0l"+o/2+",0l0,"+(d(m(e,n))-d(h(e,n)))+"l0,"+(d(g(e,n))-d(m(e,n)))+"l"+o/2+",0l"+-o/2+",0z"}).attr("transform",function(t,e){return"translate("+u(p(t,e))+","+d(v(t,e))+")"}).on("mouseover",function(e,n){d3.select(this).classed("hover",!0),A.elementMouseover({point:e,series:t[0],pos:[u(p(e,n)),d(f(e,n))],pointIndex:n,seriesIndex:0,e:d3.event})}).on("mouseout",function(e,n){d3.select(this).classed("hover",!1),A.elementMouseout({point:e,series:t[0],pointIndex:n,seriesIndex:0,e:d3.event})}).on("click",function(t,e){A.elementClick({value:f(t,e),data:t,index:e,pos:[u(p(t,e)),d(f(t,e))],e:d3.event,id:c}),d3.event.stopPropagation()}).on("dblclick",function(t,e){A.elementDblClick({value:f(t,e),data:t,index:e,pos:[u(p(t,e)),d(f(t,e))],e:d3.event,id:c}),d3.event.stopPropagation()});z.attr("class",function(t,e,n){return(h(t,e)>g(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),d3.transition(z).attr("transform",function(t,e){return"translate("+u(p(t,e))+","+d(v(t,e))+")"}).attr("d",function(e,n){var o=r/t[0].values.length*.9;return"m0,0l0,"+(d(h(e,n))-d(v(e,n)))+"l"+-o/2+",0l"+o/2+",0l0,"+(d(m(e,n))-d(h(e,n)))+"l0,"+(d(g(e,n))-d(m(e,n)))+"l"+o/2+",0l"+-o/2+",0z"})}),t}var e,n,o,a,i={top:0,right:0,bottom:0,left:0},l=960,s=500,c=Math.floor(1e4*Math.random()),u=d3.scale.linear(),d=d3.scale.linear(),p=function(t){return t.x},f=function(t){return t.y},h=function(t){return t.open},g=function(t){return t.close},v=function(t){return t.high},m=function(t){return t.low},x=[],y=[],b=!1,k=!0,w=r.utils.defaultColor(),A=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return t.dispatch=A,t.options=r.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(p=e,t):p},t.y=function(e){return arguments.length?(f=e,t):f},t.open=function(e){return arguments.length?(h=e,t):h},t.close=function(e){return arguments.length?(g=e,t):g},t.high=function(e){return arguments.length?(v=e,t):v},t.low=function(e){return arguments.length?(m=e,t):m},t.margin=function(e){return arguments.length?(i.top=void 0!==e.top?e.top:i.top,i.right=void 0!==e.right?e.right:i.right,i.bottom=void 0!==e.bottom?e.bottom:i.bottom,i.left=void 0!==e.left?e.left:i.left,t):i},t.width=function(e){return arguments.length?(l=e,t):l},t.height=function(e){return arguments.length?(s=e,t):s},t.xScale=function(e){return arguments.length?(u=e,t):u},t.yScale=function(e){return arguments.length?(d=e,t):d},t.xDomain=function(n){return arguments.length?(e=n,t):e},t.yDomain=function(e){return arguments.length?(n=e,t):n},t.xRange=function(e){return arguments.length?(o=e,t):o},t.yRange=function(e){return arguments.length?(a=e,t):a},t.forceX=function(e){return arguments.length?(x=e,t):x},t.forceY=function(e){return arguments.length?(y=e,t):y},t.padData=function(e){return arguments.length?(b=e,t):b},t.clipEdge=function(e){return arguments.length?(k=e,t):k},t.color=function(e){return arguments.length?(w=r.utils.getColor(e),t):w},t.id=function(e){return arguments.length?(c=e,t):c},t},r.models.pie=function(){"use strict";function t(r){return r.each(function(t){var r=n-e.left-e.right,l=o-e.top-e.bottom,u=Math.min(r,l)/2,A=u-u/5,S=d3.select(this),C=S.selectAll(".nv-wrap.nv-pie").data(t),M=C.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+s).append("g"),D=C.select("g");M.append("g").attr("class","nv-pie"),M.append("g").attr("class","nv-pieLabels"),C.attr("transform","translate("+e.left+","+e.top+")"),D.select(".nv-pie").attr("transform","translate("+r/2+","+l/2+")"),D.select(".nv-pieLabels").attr("transform","translate("+r/2+","+l/2+")"),S.on("click",function(t,e){w.chartClick({data:t,index:e,pos:d3.event,id:s})});var I=d3.svg.arc().outerRadius(A);y&&I.startAngle(y),b&&I.endAngle(b),m&&I.innerRadius(u*k);var W=d3.layout.pie().sort(null).value(function(t){return t.disabled?0:i(t)}),z=C.select(".nv-pie").selectAll(".nv-slice").data(W),F=C.select(".nv-pieLabels").selectAll(".nv-label").data(W);z.exit().remove(),F.exit().remove();var N=z.enter().append("g").attr("class","nv-slice").on("mouseover",function(t,e){d3.select(this).classed("hover",!0),w.elementMouseover({label:a(t.data),value:i(t.data),point:t.data,pointIndex:e,pos:[d3.event.pageX,d3.event.pageY],id:s})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),w.elementMouseout({label:a(t.data),value:i(t.data),point:t.data,index:e,id:s})}).on("click",function(t,e){w.elementClick({label:a(t.data),value:i(t.data),point:t.data,index:e,pos:d3.event,id:s}),d3.event.stopPropagation()}).on("dblclick",function(t,e){w.elementDblClick({label:a(t.data),value:i(t.data),point:t.data,index:e,pos:d3.event,id:s}),d3.event.stopPropagation()});z.attr("fill",function(t,e){return c(t,e)}).attr("stroke",function(t,e){return c(t,e)});N.append("path").each(function(t){this._current=t});if(z.select("path").transition().attr("d",I).attrTween("d",function(t){t.endAngle=isNaN(t.endAngle)?0:t.endAngle,t.startAngle=isNaN(t.startAngle)?0:t.startAngle,m||(t.innerRadius=0);var e=d3.interpolate(this._current,t);return this._current=e(0),function(t){return I(e(t))}}),p){var L=d3.svg.arc().innerRadius(0);f&&(L=I),h&&(L=d3.svg.arc().outerRadius(I.outerRadius())),F.enter().append("g").classed("nv-label",!0).each(function(t,e){var n=d3.select(this);n.attr("transform",function(t){if(x){t.outerRadius=A+10,t.innerRadius=A+15;var e=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?e-=90:e+=90,"translate("+L.centroid(t)+") rotate("+e+")"}return t.outerRadius=u+10,t.innerRadius=u+15,"translate("+L.centroid(t)+")"}),n.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),n.append("text").style("text-anchor",x?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var B={},H=function(t){return 140*Math.floor(t[0]/140)+","+14*Math.floor(t[1]/14)};F.transition().attr("transform",function(t){if(x){t.outerRadius=A+10,t.innerRadius=A+15;var e=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?e-=90:e+=90,"translate("+L.centroid(t)+") rotate("+e+")"}t.outerRadius=u+10,t.innerRadius=u+15;var n=L.centroid(t),r=H(n);return B[r]&&(n[1]-=14),B[H(n)]=!0,"translate("+n+")"}),F.select(".nv-label text").style("text-anchor",x?(d.startAngle+d.endAngle)/2<Math.PI?"start":"end":"middle").text(function(t,e){var n=(t.endAngle-t.startAngle)/(2*Math.PI),r={key:a(t.data),value:i(t.data),percent:d3.format("%")(n)};return t.value&&n>v?r[g]:""})}}),t}var e={top:0,right:0,bottom:0,left:0},n=500,o=500,a=function(t){return t.x},i=function(t){return t.y},l=function(t){return t.description},s=Math.floor(1e4*Math.random()),c=r.utils.defaultColor(),u=d3.format(",.2f"),p=!0,f=!0,h=!1,g="key",v=.02,m=!1,x=!1,y=!1,b=!1,k=.5,w=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return t.dispatch=w,t.options=r.utils.optionsFunc.bind(t),t.margin=function(n){return arguments.length?(e.top=void 0!==n.top?n.top:e.top,e.right=void 0!==n.right?n.right:e.right,e.bottom=void 0!==n.bottom?n.bottom:e.bottom,e.left=void 0!==n.left?n.left:e.left,t):e},t.width=function(e){return arguments.length?(n=e,t):n},t.height=function(e){return arguments.length?(o=e,t):o},t.values=function(e){return r.log("pie.values() is no longer supported."),t},t.x=function(e){return arguments.length?(a=e,t):a},t.y=function(e){return arguments.length?(i=d3.functor(e),t):i},t.description=function(e){return arguments.length?(l=e,t):l},t.showLabels=function(e){return arguments.length?(p=e,t):p},t.labelSunbeamLayout=function(e){return arguments.length?(x=e,t):x},t.donutLabelsOutside=function(e){return arguments.length?(h=e,t):h},t.pieLabelsOutside=function(e){return arguments.length?(f=e,t):f},t.labelType=function(e){return arguments.length?(g=(g=e)||"key",t):g},t.donut=function(e){return arguments.length?(m=e,t):m},t.donutRatio=function(e){return arguments.length?(k=e,t):k},t.startAngle=function(e){return arguments.length?(y=e,t):y},t.endAngle=function(e){return arguments.length?(b=e,t):b},t.id=function(e){return arguments.length?(s=e,t):s},t.color=function(e){return arguments.length?(c=r.utils.getColor(e),t):c},t.valueFormat=function(e){return arguments.length?(u=e,t):u},t.labelThreshold=function(e){return arguments.length?(v=e,t):v},t},r.models.pieChart=function(){"use strict";function t(r){return r.each(function(r){var s=d3.select(this),c=(a||parseInt(s.style("width"))||960)-o.left-o.right,u=(i||parseInt(s.style("height"))||400)-o.top-o.bottom;if(t.update=function(){s.transition().call(t)},t.container=this,d.disabled=r.map(function(t){return!!t.disabled}),!p){var g;p={};for(g in d)d[g]instanceof Array?p[g]=d[g].slice(0):p[g]=d[g]}if(!r||!r.length){var v=s.selectAll(".nv-noData").data([f]);return v.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),v.attr("x",o.left+c/2).attr("y",o.top+u/2).text(function(t){return t}),t}s.selectAll(".nv-noData").remove();var m=s.selectAll("g.nv-wrap.nv-pieChart").data([r]),x=m.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),y=m.select("g");x.append("g").attr("class","nv-pieWrap"),x.append("g").attr("class","nv-legendWrap"),l&&(n.width(c).key(e.x()),m.select(".nv-legendWrap").datum(r).call(n),o.top!=n.height()&&(o.top=n.height(),u=(i||parseInt(s.style("height"))||400)-o.top-o.bottom),m.select(".nv-legendWrap").attr("transform","translate(0,"+-o.top+")")),m.attr("transform","translate("+o.left+","+o.top+")"),e.width(c).height(u);var b=y.select(".nv-pieWrap").datum([r]);d3.transition(b).call(e),n.dispatch.on("stateChange",function(e){d=e,h.stateChange(d),t.update()}),e.dispatch.on("elementMouseout.tooltip",function(t){h.tooltipHide(t)}),h.on("changeState",function(e){void 0!==e.disabled&&(r.forEach(function(t,n){t.disabled=e.disabled[n]}),d.disabled=e.disabled),t.update()})}),t}var e=r.models.pie(),n=r.models.legend(),o={top:30,right:20,bottom:20,left:20},a=null,i=null,l=!0,s=r.utils.defaultColor(),c=!0,u=function(t,e,n,r){return"<h3>"+t+"</h3><p>"+e+"</p>"},d={},p=null,f="No Data Available.",h=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");return e.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+o.left,t.pos[1]+o.top],h.tooltipShow(t)}),h.on("tooltipShow",function(n){var o,a,i,l,s,d,p;c&&(o=n,i=e.description()(o.point)||e.x()(o.point),l=o.pos[0]+(a&&a.offsetLeft||0),s=o.pos[1]+(a&&a.offsetTop||0),d=e.valueFormat()(e.y()(o.point)),p=u(i,d,o,t),r.tooltip.show([l,s],p,o.value<0?"n":"s",null,a))}),h.on("tooltipHide",function(){c&&r.tooltip.cleanup()}),t.legend=n,t.dispatch=h,t.pie=e,d3.rebind(t,e,"valueFormat","values","x","y","description","id","showLabels","donutLabelsOutside","pieLabelsOutside","labelType","donut","donutRatio","labelThreshold"),t.options=r.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(o.top=void 0!==e.top?e.top:o.top,o.right=void 0!==e.right?e.right:o.right,o.bottom=void 0!==e.bottom?e.bottom:o.bottom,o.left=void 0!==e.left?e.left:o.left,t):o},t.width=function(e){return arguments.length?(a=e,t):a},t.height=function(e){return arguments.length?(i=e,t):i},t.color=function(o){return arguments.length?(s=r.utils.getColor(o),n.color(s),e.color(s),t):s},t.showLegend=function(e){return arguments.length?(l=e,t):l},t.tooltips=function(e){return arguments.length?(c=e,t):c},t.tooltipContent=function(e){return arguments.length?(u=e,t):u},t.state=function(e){return arguments.length?(d=e,t):d},t.defaultState=function(e){return arguments.length?(p=e,t):p},t.noData=function(e){return arguments.length?(f=e,t):f},t},r.models.scatter=function(){"use strict";function t(R){return R.each(function(t){var R=l-i.left-i.right,V=s-i.top-i.bottom,_=d3.select(this);t.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var X=z&&F&&B?[]:d3.merge(t.map(function(t){return t.values.map(function(t,e){return{x:h(t,e),y:g(t,e),size:v(t,e)}})}));d.domain(z||d3.extent(X.map(function(t){return t.x}).concat(y))),C&&t[0]?d.range(N||[(R*M+R)/(2*t[0].values.length),R-R*(1+M)/(2*t[0].values.length)]):d.range(N||[0,R]),p.domain(F||d3.extent(X.map(function(t){return t.y}).concat(b))).range(L||[V,0]),f.domain(B||d3.extent(X.map(function(t){return t.size}).concat(k))).range(H||[16,256]),d.domain()[0]!==d.domain()[1]&&p.domain()[0]!==p.domain()[1]||(P=!0),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),p.domain()[0]===p.domain()[1]&&(p.domain()[0]?p.domain([p.domain()[0]-.01*p.domain()[0],p.domain()[1]+.01*p.domain()[1]]):p.domain([-1,1])),isNaN(d.domain()[0])&&d.domain([-1,1]),isNaN(p.domain()[0])&&p.domain([-1,1]),e=e||d,n=n||p,o=o||f;var Z=_.selectAll("g.nv-wrap.nv-scatter").data([t]),G=Z.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+u+(P?" nv-single-point":"")),O=G.append("defs"),K=G.append("g"),j=Z.select("g");K.append("g").attr("class","nv-groups"),K.append("g").attr("class","nv-point-paths"),Z.attr("transform","translate("+i.left+","+i.top+")"),O.append("clipPath").attr("id","nv-edge-clip-"+u).append("rect"),Z.select("#nv-edge-clip-"+u+" rect").attr("width",R).attr("height",V>0?V:0),j.attr("clip-path",D?"url(#nv-edge-clip-"+u+")":""),Y=!0;var q,U=Z.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});(U.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),U.exit().remove(),U.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),U.transition().style("fill",function(t,e){return c(t,e)}).style("stroke",function(t,e){return c(t,e)}).style("stroke-opacity",1).style("fill-opacity",.5),x)?((q=U.selectAll("circle.nv-point").data(function(t){return t.values},A)).enter().append("circle").style("fill",function(t,e){return t.color}).style("stroke",function(t,e){return t.color}).attr("cx",function(t,n){return r.utils.NaNtoZero(e(h(t,n)))}).attr("cy",function(t,e){return r.utils.NaNtoZero(n(g(t,e)))}).attr("r",function(t,e){return Math.sqrt(f(v(t,e))/Math.PI)}),q.exit().remove(),U.exit().selectAll("path.nv-point").transition().attr("cx",function(t,e){return r.utils.NaNtoZero(d(h(t,e)))}).attr("cy",function(t,e){return r.utils.NaNtoZero(p(g(t,e)))}).remove(),q.each(function(t,e){d3.select(this).classed("nv-point",!0).classed("nv-point-"+e,!0).classed("hover",!1)}),q.transition().attr("cx",function(t,e){return r.utils.NaNtoZero(d(h(t,e)))}).attr("cy",function(t,e){return r.utils.NaNtoZero(p(g(t,e)))}).attr("r",function(t,e){return Math.sqrt(f(v(t,e))/Math.PI)})):((q=U.selectAll("path.nv-point").data(function(t){return t.values})).enter().append("path").style("fill",function(t,e){return t.color}).style("stroke",function(t,e){return t.color}).attr("transform",function(t,r){return"translate("+e(h(t,r))+","+n(g(t,r))+")"}).attr("d",d3.svg.symbol().type(m).size(function(t,e){return f(v(t,e))})),q.exit().remove(),U.exit().selectAll("path.nv-point").transition().attr("transform",function(t,e){return"translate("+d(h(t,e))+","+p(g(t,e))+")"}).remove(),q.each(function(t,e){d3.select(this).classed("nv-point",!0).classed("nv-point-"+e,!0).classed("hover",!1)}),q.transition().attr("transform",function(t,e){return"translate("+d(h(t,e))+","+p(g(t,e))+")"}).attr("d",d3.svg.symbol().type(m).size(function(t,e){return f(v(t,e))})));clearTimeout(a),a=setTimeout(function(){if(!w)return!1;var e=d3.merge(t.map(function(t,e){return t.values.map(function(t,n){var r=h(t,n),o=g(t,n);return[d(r)+1e-7*Math.random(),p(o)+1e-7*Math.random(),e,n,t]}).filter(function(t,e){return S(t[4],e)})}));if(!0===E){if(I){Z.select("defs").selectAll(".nv-point-clips").data([u]).enter().append("clipPath").attr("class","nv-point-clips").attr("id","nv-points-clip-"+u);var n=Z.select("#nv-points-clip-"+u).selectAll("circle").data(e);n.enter().append("circle").attr("r",W),n.exit().remove(),n.attr("cx",function(t){return t[0]}).attr("cy",function(t){return t[1]}),Z.select(".nv-point-paths").attr("clip-path","url(#nv-points-clip-"+u+")")}e.length&&(e.push([d.range()[0]-20,p.range()[0]-20,null,null]),e.push([d.range()[1]+20,p.range()[1]+20,null,null]),e.push([d.range()[0]-20,p.range()[0]+20,null,null]),e.push([d.range()[1]+20,p.range()[1]-20,null,null]));var r=d3.geom.polygon([[-10,-10],[-10,s+10],[l+10,s+10],[l+10,-10]]),o=d3.geom.voronoi(e).map(function(t,n){return{data:r.clip(t),series:e[n][2],point:e[n][3]}}),a=Z.select(".nv-point-paths").selectAll("path").data(o);a.enter().append("path").attr("class",function(t,e){return"nv-path-"+e}),a.exit().remove(),a.attr("d",function(t){return 0===t.data.length?"M 0 0":"M"+t.data.join("L")+"Z"});var c=function(e,n){if(Y)return 0;var r=t[e.series];if(void 0!==r){var o=r.values[e.point];n({point:o,series:r,pos:[d(h(o,e.point))+i.left,p(g(o,e.point))+i.top],seriesIndex:e.series,pointIndex:e.point})}};a.on("click",function(t){c(t,T.elementClick)}).on("mouseover",function(t){c(t,T.elementMouseover)}).on("mouseout",function(t,e){c(t,T.elementMouseout)})}else Z.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(e,n){if(Y||!t[e.series])return 0;var r=t[e.series],o=r.values[n];T.elementClick({point:o,series:r,pos:[d(h(o,n))+i.left,p(g(o,n))+i.top],seriesIndex:e.series,pointIndex:n})}).on("mouseover",function(e,n){if(Y||!t[e.series])return 0;var r=t[e.series],o=r.values[n];T.elementMouseover({point:o,series:r,pos:[d(h(o,n))+i.left,p(g(o,n))+i.top],seriesIndex:e.series,pointIndex:n})}).on("mouseout",function(e,n){if(Y||!t[e.series])return 0;var r=t[e.series],o=r.values[n];T.elementMouseout({point:o,series:r,seriesIndex:e.series,pointIndex:n})});Y=!1},300),e=d.copy(),n=p.copy(),o=f.copy()}),t}var e,n,o,a,i={top:0,right:0,bottom:0,left:0},l=960,s=500,c=r.utils.defaultColor(),u=Math.floor(1e5*Math.random()),d=d3.scale.linear(),p=d3.scale.linear(),f=d3.scale.linear(),h=function(t){return t.x},g=function(t){return t.y},v=function(t){return t.size||1},m=function(t){return t.shape||"circle"},x=!0,y=[],b=[],k=[],w=!0,A=null,S=function(t){return!t.notActive},C=!1,M=.1,D=!1,I=!0,W=function(){return 25},z=null,F=null,N=null,L=null,B=null,H=null,P=!1,T=d3.dispatch("elementClick","elementMouseover","elementMouseout"),E=!0,Y=!1;return t.clearHighlights=function(){d3.selectAll(".nv-chart-"+u+" .nv-point.hover").classed("hover",!1)},t.highlightPoint=function(t,e,n){d3.select(".nv-chart-"+u+" .nv-series-"+t+" .nv-point-"+e).classed("hover",n)},T.on("elementMouseover.point",function(e){w&&t.highlightPoint(e.seriesIndex,e.pointIndex,!0)}),T.on("elementMouseout.point",function(e){w&&t.highlightPoint(e.seriesIndex,e.pointIndex,!1)}),t.dispatch=T,t.options=r.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(h=d3.functor(e),t):h},t.y=function(e){return arguments.length?(g=d3.functor(e),t):g},t.size=function(e){return arguments.length?(v=d3.functor(e),t):v},t.margin=function(e){return arguments.length?(i.top=void 0!==e.top?e.top:i.top,i.right=void 0!==e.right?e.right:i.right,i.bottom=void 0!==e.bottom?e.bottom:i.bottom,i.left=void 0!==e.left?e.left:i.left,t):i},t.width=function(e){return arguments.length?(l=e,t):l},t.height=function(e){return arguments.length?(s=e,t):s},t.xScale=function(e){return arguments.length?(d=e,t):d},t.yScale=function(e){return arguments.length?(p=e,t):p},t.zScale=function(e){return arguments.length?(f=e,t):f},t.xDomain=function(e){return arguments.length?(z=e,t):z},t.yDomain=function(e){return arguments.length?(F=e,t):F},t.sizeDomain=function(e){return arguments.length?(B=e,t):B},t.xRange=function(e){return arguments.length?(N=e,t):N},t.yRange=function(e){return arguments.length?(L=e,t):L},t.sizeRange=function(e){return arguments.length?(H=e,t):H},t.forceX=function(e){return arguments.length?(y=e,t):y},t.forceY=function(e){return arguments.length?(b=e,t):b},t.forceSize=function(e){return arguments.length?(k=e,t):k},t.interactive=function(e){return arguments.length?(w=e,t):w},t.pointKey=function(e){return arguments.length?(A=e,t):A},t.pointActive=function(e){return arguments.length?(S=e,t):S},t.padData=function(e){return arguments.length?(C=e,t):C},t.padDataOuter=function(e){return arguments.length?(M=e,t):M},t.clipEdge=function(e){return arguments.length?(D=e,t):D},t.clipVoronoi=function(e){return arguments.length?(I=e,t):I},t.useVoronoi=function(e){return arguments.length?(!1===(E=e)&&(I=!1),t):E},t.clipRadius=function(e){return arguments.length?(W=e,t):W},t.color=function(e){return arguments.length?(c=r.utils.getColor(e),t):c},t.shape=function(e){return arguments.length?(m=e,t):m},t.onlyCircles=function(e){return arguments.length?(x=e,t):x},t.id=function(e){return arguments.length?(u=e,t):u},t.singlePoint=function(e){return arguments.length?(P=e,t):P},t},r.models.scatterChart=function(){"use strict";function t(r){return r.each(function(r){var D=d3.select(this),I=this,W=(u||parseInt(D.style("width"))||960)-c.left-c.right,Y=(d||parseInt(D.style("height"))||400)-c.top-c.bottom;if(t.update=function(){D.transition().duration(B).call(t)},t.container=this,z.disabled=r.map(function(t){return!!t.disabled}),!F){var R;F={};for(R in z)z[R]instanceof Array?F[R]=z[R].slice(0):F[R]=z[R]}if(!r||!r.length||!r.filter(function(t){return t.values.length}).length){var V=D.selectAll(".nv-noData").data([L]);return V.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),V.attr("x",c.left+W/2).attr("y",c.top+Y/2).text(function(t){return t}),t}D.selectAll(".nv-noData").remove(),H=H||f,P=P||h;var _=D.selectAll("g.nv-wrap.nv-scatterChart").data([r]),X=_.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+e.id()).append("g"),Z=_.select("g");if(X.append("rect").attr("class","nvd3 nv-background"),X.append("g").attr("class","nv-x nv-axis"),X.append("g").attr("class","nv-y nv-axis"),X.append("g").attr("class","nv-scatterWrap"),X.append("g").attr("class","nv-distWrap"),X.append("g").attr("class","nv-legendWrap"),X.append("g").attr("class","nv-controlsWrap"),y){var G=A?W/2:W;a.width(G),_.select(".nv-legendWrap").datum(r).call(a),c.top!=a.height()&&(c.top=a.height(),Y=(d||parseInt(D.style("height"))||400)-c.top-c.bottom),_.select(".nv-legendWrap").attr("transform","translate("+(W-G)+","+-c.top+")")}if(A&&(i.width(180).color(["#444"]),Z.select(".nv-controlsWrap").datum(E).attr("transform","translate(0,"+-c.top+")").call(i)),_.attr("transform","translate("+c.left+","+c.top+")"),w&&Z.select(".nv-y.nv-axis").attr("transform","translate("+W+",0)"),e.width(W).height(Y).color(r.map(function(t,e){return t.color||p(t,e)}).filter(function(t,e){return!r[e].disabled})),0!==g&&e.xDomain(null),0!==v&&e.yDomain(null),_.select(".nv-scatterWrap").datum(r.filter(function(t){return!t.disabled})).call(e),0!==g){var O=f.domain()[1]-f.domain()[0];e.xDomain([f.domain()[0]-g*O,f.domain()[1]+g*O])}if(0!==v){var K=h.domain()[1]-h.domain()[0];e.yDomain([h.domain()[0]-v*K,h.domain()[1]+v*K])}(0!==v||0!==g)&&_.select(".nv-scatterWrap").datum(r.filter(function(t){return!t.disabled})).call(e),b&&(n.scale(f).ticks(n.ticks()&&n.ticks().length?n.ticks():W/100).tickSize(-Y,0),Z.select(".nv-x.nv-axis").attr("transform","translate(0,"+h.range()[0]+")").call(n)),k&&(o.scale(h).ticks(o.ticks()&&o.ticks().length?o.ticks():Y/36).tickSize(-W,0),Z.select(".nv-y.nv-axis").call(o)),m&&(l.getData(e.x()).scale(f).width(W).color(r.map(function(t,e){return t.color||p(t,e)}).filter(function(t,e){return!r[e].disabled})),X.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),Z.select(".nv-distributionX").attr("transform","translate(0,"+h.range()[0]+")").datum(r.filter(function(t){return!t.disabled})).call(l)),x&&(s.getData(e.y()).scale(h).width(Y).color(r.map(function(t,e){return t.color||p(t,e)}).filter(function(t,e){return!r[e].disabled})),X.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),Z.select(".nv-distributionY").attr("transform","translate("+(w?W:-s.size())+",0)").datum(r.filter(function(t){return!t.disabled})).call(s)),d3.fisheye&&(Z.select(".nv-background").attr("width",W).attr("height",Y),Z.select(".nv-background").on("mousemove",function(){if(C)return Z.select(".nv-point-paths").style("pointer-events","all"),!1;Z.select(".nv-point-paths").style("pointer-events","none");var t=d3.mouse(this);f.distortion(S).focus(t[0]),h.distortion(S).focus(t[1]),Z.select(".nv-scatterWrap").call(e),b&&Z.select(".nv-x.nv-axis").call(n),k&&Z.select(".nv-y.nv-axis").call(o),Z.select(".nv-distributionX").datum(r.filter(function(t){return!t.disabled})).call(l),Z.select(".nv-distributionY").datum(r.filter(function(t){return!t.disabled})).call(s)}),Z.select(".nv-background").on("click",function(){C=!C}),e.dispatch.on("elementClick.freezeFisheye",function(){C=!C})),i.dispatch.on("legendClick",function(r,a){r.disabled=!r.disabled,S=r.disabled?0:2.5,Z.select(".nv-background").style("pointer-events",r.disabled?"none":"all"),Z.select(".nv-point-paths").style("pointer-events",r.disabled?"all":"none"),r.disabled?(f.distortion(S).focus(0),h.distortion(S).focus(0),Z.select(".nv-scatterWrap").call(e),Z.select(".nv-x.nv-axis").call(n),Z.select(".nv-y.nv-axis").call(o)):C=!1,t.update()}),a.dispatch.on("stateChange",function(e){z.disabled=e.disabled,N.stateChange(z),t.update()}),e.dispatch.on("elementMouseover.tooltip",function(t){d3.select(".nv-chart-"+e.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",function(e,n){return t.pos[1]-Y}),d3.select(".nv-chart-"+e.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.pos[0]+l.size()),t.pos=[t.pos[0]+c.left,t.pos[1]+c.top],N.tooltipShow(t)}),N.on("tooltipShow",function(t){M&&T(t,I.parentNode)}),N.on("changeState",function(e){void 0!==e.disabled&&(r.forEach(function(t,n){t.disabled=e.disabled[n]}),z.disabled=e.disabled),t.update()}),H=f.copy(),P=h.copy()}),t}var e=r.models.scatter(),n=r.models.axis(),o=r.models.axis(),a=r.models.legend(),i=r.models.legend(),l=r.models.distribution(),s=r.models.distribution(),c={top:30,right:20,bottom:50,left:75},u=null,d=null,p=r.utils.defaultColor(),f=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):e.xScale(),h=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):e.yScale(),g=0,v=0,m=!1,x=!1,y=!0,b=!0,k=!0,w=!1,A=!!d3.fisheye,S=0,C=!1,M=!0,D=function(t,e,n){return"<strong>"+e+"</strong>"},I=function(t,e,n){return"<strong>"+n+"</strong>"},W=null,z={},F=null,N=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),L="No Data Available.",B=250;e.xScale(f).yScale(h),n.orient("bottom").tickPadding(10),o.orient(w?"right":"left").tickPadding(10),l.axis("x"),s.axis("y"),i.updateState(!1);var H,P,T=function(a,i){var l=a.pos[0]+(i.offsetLeft||0),s=a.pos[1]+(i.offsetTop||0),u=a.pos[0]+(i.offsetLeft||0),d=h.range()[0]+c.top+(i.offsetTop||0),p=f.range()[0]+c.left+(i.offsetLeft||0),g=a.pos[1]+(i.offsetTop||0),v=n.tickFormat()(e.x()(a.point,a.pointIndex)),m=o.tickFormat()(e.y()(a.point,a.pointIndex));null!=D&&r.tooltip.show([u,d],D(a.series.key,v,m,a,t),"n",1,i,"x-nvtooltip"),null!=I&&r.tooltip.show([p,g],I(a.series.key,v,m,a,t),"e",1,i,"y-nvtooltip"),null!=W&&r.tooltip.show([l,s],W(a.series.key,v,m,a,t),a.value<0?"n":"s",null,i)},E=[{key:"Magnify",disabled:!0}];return e.dispatch.on("elementMouseout.tooltip",function(t){N.tooltipHide(t),d3.select(".nv-chart-"+e.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",0),d3.select(".nv-chart-"+e.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",s.size())}),N.on("tooltipHide",function(){M&&r.tooltip.cleanup()}),t.dispatch=N,t.scatter=e,t.legend=a,t.controls=i,t.xAxis=n,t.yAxis=o,t.distX=l,t.distY=s,d3.rebind(t,e,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi"),t.options=r.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left,t):c},t.width=function(e){return arguments.length?(u=e,t):u},t.height=function(e){return arguments.length?(d=e,t):d},t.color=function(e){return arguments.length?(p=r.utils.getColor(e),a.color(p),l.color(p),s.color(p),t):p},t.showDistX=function(e){return arguments.length?(m=e,t):m},t.showDistY=function(e){return arguments.length?(x=e,t):x},t.showControls=function(e){return arguments.length?(A=e,t):A},t.showLegend=function(e){return arguments.length?(y=e,t):y},t.showXAxis=function(e){return arguments.length?(b=e,t):b},t.showYAxis=function(e){return arguments.length?(k=e,t):k},t.rightAlignYAxis=function(e){return arguments.length?(w=e,o.orient(e?"right":"left"),t):w},t.fisheye=function(e){return arguments.length?(S=e,t):S},t.xPadding=function(e){return arguments.length?(g=e,t):g},t.yPadding=function(e){return arguments.length?(v=e,t):v},t.tooltips=function(e){return arguments.length?(M=e,t):M},t.tooltipContent=function(e){return arguments.length?(W=e,t):W},t.tooltipXContent=function(e){return arguments.length?(D=e,t):D},t.tooltipYContent=function(e){return arguments.length?(I=e,t):I},t.state=function(e){return arguments.length?(z=e,t):z},t.defaultState=function(e){return arguments.length?(F=e,t):F},t.noData=function(e){return arguments.length?(L=e,t):L},t.transitionDuration=function(e){return arguments.length?(B=e,t):B},t},r.models.scatterPlusLineChart=function(){"use strict";function t(r){return r.each(function(r){var C=d3.select(this),M=this,D=(u||parseInt(C.style("width"))||960)-c.left-c.right,T=(d||parseInt(C.style("height"))||400)-c.top-c.bottom;if(t.update=function(){C.transition().duration(N).call(t)},t.container=this,I.disabled=r.map(function(t){return!!t.disabled}),!W){var E;W={};for(E in I)I[E]instanceof Array?W[E]=I[E].slice(0):W[E]=I[E]}if(!r||!r.length||!r.filter(function(t){return t.values.length}).length){var Y=C.selectAll(".nv-noData").data([F]);return Y.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),Y.attr("x",c.left+D/2).attr("y",c.top+T/2).text(function(t){return t}),t}C.selectAll(".nv-noData").remove(),f=e.xScale(),h=e.yScale(),L=L||f,B=B||h;var R=C.selectAll("g.nv-wrap.nv-scatterChart").data([r]),V=R.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+e.id()).append("g"),_=R.select("g");V.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),V.append("g").attr("class","nv-x nv-axis"),V.append("g").attr("class","nv-y nv-axis"),V.append("g").attr("class","nv-scatterWrap"),V.append("g").attr("class","nv-regressionLinesWrap"),V.append("g").attr("class","nv-distWrap"),V.append("g").attr("class","nv-legendWrap"),V.append("g").attr("class","nv-controlsWrap"),R.attr("transform","translate("+c.left+","+c.top+")"),b&&_.select(".nv-y.nv-axis").attr("transform","translate("+D+",0)"),m&&(a.width(D/2),R.select(".nv-legendWrap").datum(r).call(a),c.top!=a.height()&&(c.top=a.height(),T=(d||parseInt(C.style("height"))||400)-c.top-c.bottom),R.select(".nv-legendWrap").attr("transform","translate("+D/2+","+-c.top+")")),k&&(i.width(180).color(["#444"]),_.select(".nv-controlsWrap").datum(P).attr("transform","translate(0,"+-c.top+")").call(i)),e.width(D).height(T).color(r.map(function(t,e){return t.color||p(t,e)}).filter(function(t,e){return!r[e].disabled})),R.select(".nv-scatterWrap").datum(r.filter(function(t){return!t.disabled})).call(e),R.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+e.id()+")");var X=R.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(t){return t});X.enter().append("g").attr("class","nv-regLines");var Z=X.selectAll(".nv-regLine").data(function(t){return[t]});Z.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0);Z.transition().attr("x1",f.range()[0]).attr("x2",f.range()[1]).attr("y1",function(t,e){return h(f.domain()[0]*t.slope+t.intercept)}).attr("y2",function(t,e){return h(f.domain()[1]*t.slope+t.intercept)}).style("stroke",function(t,e,n){return p(t,n)}).style("stroke-opacity",function(t,e){return t.disabled||void 0===t.slope||void 0===t.intercept?0:1}),x&&(n.scale(f).ticks(n.ticks()?n.ticks():D/100).tickSize(-T,0),_.select(".nv-x.nv-axis").attr("transform","translate(0,"+h.range()[0]+")").call(n)),y&&(o.scale(h).ticks(o.ticks()?o.ticks():T/36).tickSize(-D,0),_.select(".nv-y.nv-axis").call(o)),g&&(l.getData(e.x()).scale(f).width(D).color(r.map(function(t,e){return t.color||p(t,e)}).filter(function(t,e){return!r[e].disabled})),V.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),_.select(".nv-distributionX").attr("transform","translate(0,"+h.range()[0]+")").datum(r.filter(function(t){return!t.disabled})).call(l)),v&&(s.getData(e.y()).scale(h).width(T).color(r.map(function(t,e){return t.color||p(t,e)}).filter(function(t,e){return!r[e].disabled})),V.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),_.select(".nv-distributionY").attr("transform","translate("+(b?D:-s.size())+",0)").datum(r.filter(function(t){return!t.disabled})).call(s)),d3.fisheye&&(_.select(".nv-background").attr("width",D).attr("height",T),_.select(".nv-background").on("mousemove",function(){if(A)return _.select(".nv-point-paths").style("pointer-events","all"),!1;_.select(".nv-point-paths").style("pointer-events","none");var t=d3.mouse(this);f.distortion(w).focus(t[0]),h.distortion(w).focus(t[1]),_.select(".nv-scatterWrap").datum(r.filter(function(t){return!t.disabled})).call(e),x&&_.select(".nv-x.nv-axis").call(n),y&&_.select(".nv-y.nv-axis").call(o),_.select(".nv-distributionX").datum(r.filter(function(t){return!t.disabled})).call(l),_.select(".nv-distributionY").datum(r.filter(function(t){return!t.disabled})).call(s)}),_.select(".nv-background").on("click",function(){A=!A}),e.dispatch.on("elementClick.freezeFisheye",function(){A=!A})),i.dispatch.on("legendClick",function(r,a){r.disabled=!r.disabled,w=r.disabled?0:2.5,_.select(".nv-background").style("pointer-events",r.disabled?"none":"all"),_.select(".nv-point-paths").style("pointer-events",r.disabled?"all":"none"),r.disabled?(f.distortion(w).focus(0),h.distortion(w).focus(0),_.select(".nv-scatterWrap").call(e),_.select(".nv-x.nv-axis").call(n),_.select(".nv-y.nv-axis").call(o)):A=!1,t.update()}),a.dispatch.on("stateChange",function(e){I=e,z.stateChange(I),t.update()}),e.dispatch.on("elementMouseover.tooltip",function(t){d3.select(".nv-chart-"+e.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.pos[1]-T),d3.select(".nv-chart-"+e.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.pos[0]+l.size()),t.pos=[t.pos[0]+c.left,t.pos[1]+c.top],z.tooltipShow(t)}),z.on("tooltipShow",function(t){S&&H(t,M.parentNode)}),z.on("changeState",function(e){void 0!==e.disabled&&(r.forEach(function(t,n){t.disabled=e.disabled[n]}),I.disabled=e.disabled),t.update()}),L=f.copy(),B=h.copy()}),t}var e=r.models.scatter(),n=r.models.axis(),o=r.models.axis(),a=r.models.legend(),i=r.models.legend(),l=r.models.distribution(),s=r.models.distribution(),c={top:30,right:20,bottom:50,left:75},u=null,d=null,p=r.utils.defaultColor(),f=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):e.xScale(),h=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):e.yScale(),g=!1,v=!1,m=!0,x=!0,y=!0,b=!1,k=!!d3.fisheye,w=0,A=!1,S=!0,C=function(t,e,n){return"<strong>"+e+"</strong>"},M=function(t,e,n){return"<strong>"+n+"</strong>"},D=function(t,e,n,r){return"<h3>"+t+"</h3><p>"+r+"</p>"},I={},W=null,z=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),F="No Data Available.",N=250;e.xScale(f).yScale(h),n.orient("bottom").tickPadding(10),o.orient(b?"right":"left").tickPadding(10),l.axis("x"),s.axis("y"),i.updateState(!1);var L,B,H=function(a,i){var l=a.pos[0]+(i.offsetLeft||0),s=a.pos[1]+(i.offsetTop||0),u=a.pos[0]+(i.offsetLeft||0),d=h.range()[0]+c.top+(i.offsetTop||0),p=f.range()[0]+c.left+(i.offsetLeft||0),g=a.pos[1]+(i.offsetTop||0),v=n.tickFormat()(e.x()(a.point,a.pointIndex)),m=o.tickFormat()(e.y()(a.point,a.pointIndex));null!=C&&r.tooltip.show([u,d],C(a.series.key,v,m,a,t),"n",1,i,"x-nvtooltip"),null!=M&&r.tooltip.show([p,g],M(a.series.key,v,m,a,t),"e",1,i,"y-nvtooltip"),null!=D&&r.tooltip.show([l,s],D(a.series.key,v,m,a.point.tooltip,a,t),a.value<0?"n":"s",null,i)},P=[{key:"Magnify",disabled:!0}];return e.dispatch.on("elementMouseout.tooltip",function(t){z.tooltipHide(t),d3.select(".nv-chart-"+e.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",0),d3.select(".nv-chart-"+e.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",s.size())}),z.on("tooltipHide",function(){S&&r.tooltip.cleanup()}),t.dispatch=z,t.scatter=e,t.legend=a,t.controls=i,t.xAxis=n,t.yAxis=o,t.distX=l,t.distY=s,d3.rebind(t,e,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi"),t.options=r.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left,t):c},t.width=function(e){return arguments.length?(u=e,t):u},t.height=function(e){return arguments.length?(d=e,t):d},t.color=function(e){return arguments.length?(p=r.utils.getColor(e),a.color(p),l.color(p),s.color(p),t):p},t.showDistX=function(e){return arguments.length?(g=e,t):g},t.showDistY=function(e){return arguments.length?(v=e,t):v},t.showControls=function(e){return arguments.length?(k=e,t):k},t.showLegend=function(e){return arguments.length?(m=e,t):m},t.showXAxis=function(e){return arguments.length?(x=e,t):x},t.showYAxis=function(e){return arguments.length?(y=e,t):y},t.rightAlignYAxis=function(e){return arguments.length?(b=e,o.orient(e?"right":"left"),t):b},t.fisheye=function(e){return arguments.length?(w=e,t):w},t.tooltips=function(e){return arguments.length?(S=e,t):S},t.tooltipContent=function(e){return arguments.length?(D=e,t):D},t.tooltipXContent=function(e){return arguments.length?(C=e,t):C},t.tooltipYContent=function(e){return arguments.length?(M=e,t):M},t.state=function(e){return arguments.length?(I=e,t):I},t.defaultState=function(e){return arguments.length?(W=e,t):W},t.noData=function(e){return arguments.length?(F=e,t):F},t.transitionDuration=function(e){return arguments.length?(N=e,t):N},t},r.models.sparkline=function(){"use strict";function t(r){return r.each(function(t){var r=l-i.left-i.right,c=s-i.top-i.bottom,g=d3.select(this);u.domain(e||d3.extent(t,p)).range(o||[0,r]),d.domain(n||d3.extent(t,f)).range(a||[c,0]);var v=g.selectAll("g.nv-wrap.nv-sparkline").data([t]);v.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g"),v.select("g");v.attr("transform","translate("+i.left+","+i.top+")");var m=v.selectAll("path").data(function(t){return[t]});m.enter().append("path"),m.exit().remove(),m.style("stroke",function(t,e){return t.color||h(t,e)}).attr("d",d3.svg.line().x(function(t,e){return u(p(t,e))}).y(function(t,e){return d(f(t,e))}));var x=v.selectAll("circle.nv-point").data(function(t){function e(e){if(-1!=e){var n=t[e];return n.pointIndex=e,n}return null}var n=t.map(function(t,e){return f(t,e)}),r=e(n.lastIndexOf(d.domain()[1]));return[e(n.indexOf(d.domain()[0])),r,e(n.length-1)].filter(function(t){return null!=t})});x.enter().append("circle"),x.exit().remove(),x.attr("cx",function(t,e){return u(p(t,t.pointIndex))}).attr("cy",function(t,e){return d(f(t,t.pointIndex))}).attr("r",2).attr("class",function(t,e){return p(t,t.pointIndex)==u.domain()[1]?"nv-point nv-currentValue":f(t,t.pointIndex)==d.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),t}var e,n,o,a,i={top:2,right:0,bottom:2,left:0},l=400,s=32,c=!0,u=d3.scale.linear(),d=d3.scale.linear(),p=function(t){return t.x},f=function(t){return t.y},h=r.utils.getColor(["#000"]);return t.options=r.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(i.top=void 0!==e.top?e.top:i.top,i.right=void 0!==e.right?e.right:i.right,i.bottom=void 0!==e.bottom?e.bottom:i.bottom,i.left=void 0!==e.left?e.left:i.left,t):i},t.width=function(e){return arguments.length?(l=e,t):l},t.height=function(e){return arguments.length?(s=e,t):s},t.x=function(e){return arguments.length?(p=d3.functor(e),t):p},t.y=function(e){return arguments.length?(f=d3.functor(e),t):f},t.xScale=function(e){return arguments.length?(u=e,t):u},t.yScale=function(e){return arguments.length?(d=e,t):d},t.xDomain=function(n){return arguments.length?(e=n,t):e},t.yDomain=function(e){return arguments.length?(n=e,t):n},t.xRange=function(e){return arguments.length?(o=e,t):o},t.yRange=function(e){return arguments.length?(a=e,t):a},t.animate=function(e){return arguments.length?(c=e,t):c},t.color=function(e){return arguments.length?(h=r.utils.getColor(e),t):h},t},r.models.sparklinePlus=function(){"use strict";function t(r){return r.each(function(p){function v(){if(!c){var t=S.selectAll(".nv-hoverValue").data(s),n=t.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);t.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),t.attr("transform",function(t){return"translate("+e(o.x()(p[t],t))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),s.length&&(n.append("line").attr("x1",0).attr("y1",-a.top).attr("x2",0).attr("y2",y),n.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-a.top).attr("text-anchor","end").attr("dy",".9em"),S.select(".nv-hoverValue .nv-xValue").text(u(o.x()(p[s[0]],s[0]))),n.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-a.top).attr("text-anchor","start").attr("dy",".9em"),S.select(".nv-hoverValue .nv-yValue").text(d(o.y()(p[s[0]],s[0]))))}}var m=d3.select(this),x=(i||parseInt(m.style("width"))||960)-a.left-a.right,y=(l||parseInt(m.style("height"))||400)-a.top-a.bottom;if(t.update=function(){t(r)},t.container=this,!p||!p.length){var b=m.selectAll(".nv-noData").data([g]);return b.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),b.attr("x",a.left+x/2).attr("y",a.top+y/2).text(function(t){return t}),t}m.selectAll(".nv-noData").remove();var k=o.y()(p[p.length-1],p.length-1);e=o.xScale(),n=o.yScale();var w=m.selectAll("g.nv-wrap.nv-sparklineplus").data([p]),A=w.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),S=w.select("g");A.append("g").attr("class","nv-sparklineWrap"),A.append("g").attr("class","nv-valueWrap"),A.append("g").attr("class","nv-hoverArea"),w.attr("transform","translate("+a.left+","+a.top+")");var C=S.select(".nv-sparklineWrap");o.width(x).height(y),C.call(o);var M=S.select(".nv-valueWrap").selectAll(".nv-currentValue").data([k]);M.enter().append("text").attr("class","nv-currentValue").attr("dx",h?-8:8).attr("dy",".9em").style("text-anchor",h?"end":"start"),M.attr("x",x+(h?a.right:0)).attr("y",f?function(t){return n(t)}:0).style("fill",o.color()(p[p.length-1],p.length-1)).text(d(k)),A.select(".nv-hoverArea").append("rect").on("mousemove",function(){if(!c){var t=d3.mouse(this)[0]-a.left;s=[function(t,e){for(var n=Math.abs(o.x()(t[0],0)-e),r=0,a=0;a<t.length;a++)Math.abs(o.x()(t[a],a)-e)<n&&(n=Math.abs(o.x()(t[a],a)-e),r=a);return r}(p,Math.round(e.invert(t)))],v()}}).on("click",function(){c=!c}).on("mouseout",function(){s=[],v()}),S.select(".nv-hoverArea rect").attr("transform",function(t){return"translate("+-a.left+","+-a.top+")"}).attr("width",x+a.left+a.right).attr("height",y+a.top)}),t}var e,n,o=r.models.sparkline(),a={top:15,right:100,bottom:10,left:50},i=null,l=null,s=[],c=!1,u=d3.format(",r"),d=d3.format(",.2f"),p=!0,f=!0,h=!1,g="No Data Available.";return t.sparkline=o,d3.rebind(t,o,"x","y","xScale","yScale","color"),t.options=r.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(a.top=void 0!==e.top?e.top:a.top,a.right=void 0!==e.right?e.right:a.right,a.bottom=void 0!==e.bottom?e.bottom:a.bottom,a.left=void 0!==e.left?e.left:a.left,t):a},t.width=function(e){return arguments.length?(i=e,t):i},t.height=function(e){return arguments.length?(l=e,t):l},t.xTickFormat=function(e){return arguments.length?(u=e,t):u},t.yTickFormat=function(e){return arguments.length?(d=e,t):d},t.showValue=function(e){return arguments.length?(p=e,t):p},t.alignValue=function(e){return arguments.length?(f=e,t):f},t.rightAlignValue=function(e){return arguments.length?(h=e,t):h},t.noData=function(e){return arguments.length?(g=e,t):g},t},r.models.stackedArea=function(){"use strict";function t(r){return r.each(function(r){var d=a-o.left-o.right,x=i-o.top-o.bottom,y=d3.select(this);e=v.xScale(),n=v.yScale();var b=r;r.forEach(function(t,e){t.seriesIndex=e,t.values=t.values.map(function(t,n){return t.index=n,t.seriesIndex=e,t})});var k=r.filter(function(t){return!t.disabled});r=d3.layout.stack().order(f).offset(p).values(function(t){return t.values}).x(c).y(u).out(function(t,e,n){var r=0===u(t)?0:n;t.display={y:r,y0:e}})(k);var w=y.selectAll("g.nv-wrap.nv-stackedarea").data([r]),A=w.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),S=A.append("defs"),C=A.append("g"),M=w.select("g");C.append("g").attr("class","nv-areaWrap"),C.append("g").attr("class","nv-scatterWrap"),w.attr("transform","translate("+o.left+","+o.top+")"),v.width(d).height(x).x(c).y(function(t){return t.display.y+t.display.y0}).forceY([0]).color(r.map(function(t,e){return t.color||l(t,t.seriesIndex)})),M.select(".nv-scatterWrap").datum(r).call(v),S.append("clipPath").attr("id","nv-edge-clip-"+s).append("rect"),w.select("#nv-edge-clip-"+s+" rect").attr("width",d).attr("height",x),M.attr("clip-path",g?"url(#nv-edge-clip-"+s+")":"");var D=d3.svg.area().x(function(t,n){return e(c(t,n))}).y0(function(t){return n(t.display.y0)}).y1(function(t){return n(t.display.y+t.display.y0)}).interpolate(h),I=d3.svg.area().x(function(t,n){return e(c(t,n))}).y0(function(t){return n(t.display.y0)}).y1(function(t){return n(t.display.y0)}),W=M.select(".nv-areaWrap").selectAll("path.nv-area").data(function(t){return t});W.enter().append("path").attr("class",function(t,e){return"nv-area nv-area-"+e}).attr("d",function(t,e){return I(t.values,t.seriesIndex)}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),m.areaMouseover({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),m.areaMouseout({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("click",function(t,e){d3.select(this).classed("hover",!1),m.areaClick({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}),W.exit().remove(),W.style("fill",function(t,e){return t.color||l(t,t.seriesIndex)}).style("stroke",function(t,e){return t.color||l(t,t.seriesIndex)}),W.transition().attr("d",function(t,e){return D(t.values,e)}),v.dispatch.on("elementMouseover.area",function(t){M.select(".nv-chart-"+s+" .nv-area-"+t.seriesIndex).classed("hover",!0)}),v.dispatch.on("elementMouseout.area",function(t){M.select(".nv-chart-"+s+" .nv-area-"+t.seriesIndex).classed("hover",!1)}),t.d3_stackedOffset_stackPercent=function(t){var e,n,r,o=t.length,a=t[0].length,i=1/o,l=[];for(n=0;n<a;++n){for(e=0,r=0;e<b.length;e++)r+=u(b[e].values[n]);if(r)for(e=0;e<o;e++)t[e][n][1]/=r;else for(e=0;e<o;e++)t[e][n][1]=i}for(n=0;n<a;++n)l[n]=0;return l}}),t}var e,n,o={top:0,right:0,bottom:0,left:0},a=960,i=500,l=r.utils.defaultColor(),s=Math.floor(1e5*Math.random()),c=function(t){return t.x},u=function(t){return t.y},d="stack",p="zero",f="default",h="linear",g=!1,v=r.models.scatter(),m=d3.dispatch("tooltipShow","tooltipHide","areaClick","areaMouseover","areaMouseout");return v.size(2.2).sizeDomain([2.2,2.2]),v.dispatch.on("elementClick.area",function(t){m.areaClick(t)}),v.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+o.left,t.pos[1]+o.top],m.tooltipShow(t)}),v.dispatch.on("elementMouseout.tooltip",function(t){m.tooltipHide(t)}),t.dispatch=m,t.scatter=v,d3.rebind(t,v,"interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","highlightPoint","clearHighlights"),t.options=r.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(c=d3.functor(e),t):c},t.y=function(e){return arguments.length?(u=d3.functor(e),t):u},t.margin=function(e){return arguments.length?(o.top=void 0!==e.top?e.top:o.top,o.right=void 0!==e.right?e.right:o.right,o.bottom=void 0!==e.bottom?e.bottom:o.bottom,o.left=void 0!==e.left?e.left:o.left,t):o},t.width=function(e){return arguments.length?(a=e,t):a},t.height=function(e){return arguments.length?(i=e,t):i},t.clipEdge=function(e){return arguments.length?(g=e,t):g},t.color=function(e){return arguments.length?(l=r.utils.getColor(e),t):l},t.offset=function(e){return arguments.length?(p=e,t):p},t.order=function(e){return arguments.length?(f=e,t):f},t.style=function(e){if(!arguments.length)return d;switch(d=e){case"stack":t.offset("zero"),t.order("default");break;case"stream":t.offset("wiggle"),t.order("inside-out");break;case"stream-center":t.offset("silhouette"),t.order("inside-out");break;case"expand":t.offset("expand"),t.order("default");break;case"stack_percent":t.offset(t.d3_stackedOffset_stackPercent),t.order("default")}return t},t.interpolate=function(e){return arguments.length?(h=e,t):h},t},r.models.stackedAreaChart=function(){"use strict";function t(k){return k.each(function(k){var N=d3.select(this),L=this,B=(d||parseInt(N.style("width"))||960)-u.left-u.right,H=(p||parseInt(N.style("height"))||400)-u.top-u.bottom;if(t.update=function(){N.transition().duration(z).call(t)},t.container=this,A.disabled=k.map(function(t){return!!t.disabled}),!S){var P;S={};for(P in A)A[P]instanceof Array?S[P]=A[P].slice(0):S[P]=A[P]}if(!k||!k.length||!k.filter(function(t){return t.values.length}).length){var T=N.selectAll(".nv-noData").data([C]);return T.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),T.attr("x",u.left+B/2).attr("y",u.top+H/2).text(function(t){return t}),t}N.selectAll(".nv-noData").remove(),e=o.xScale(),n=o.yScale();var E=N.selectAll("g.nv-wrap.nv-stackedAreaChart").data([k]),Y=E.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),R=E.select("g");if(Y.append("rect").style("opacity",0),Y.append("g").attr("class","nv-x nv-axis"),Y.append("g").attr("class","nv-y nv-axis"),Y.append("g").attr("class","nv-stackedWrap"),Y.append("g").attr("class","nv-legendWrap"),Y.append("g").attr("class","nv-controlsWrap"),Y.append("g").attr("class","nv-interactive"),R.select("rect").attr("width",B).attr("height",H),g){var V=h?B-D:B;l.width(V),R.select(".nv-legendWrap").datum(k).call(l),u.top!=l.height()&&(u.top=l.height(),H=(p||parseInt(N.style("height"))||400)-u.top-u.bottom),R.select(".nv-legendWrap").attr("transform","translate("+(B-V)+","+-u.top+")")}if(h){var _=[{key:W.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=o.style(),style:"stack"},{key:W.stream||"Stream",metaKey:"Stream",disabled:"stream"!=o.style(),style:"stream"},{key:W.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=o.style(),style:"expand"},{key:W.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=o.style(),style:"stack_percent"}];D=I.length/3*260,_=_.filter(function(t){return-1!==I.indexOf(t.metaKey)}),s.width(D).color(["#444","#444","#444"]),R.select(".nv-controlsWrap").datum(_).call(s),u.top!=Math.max(s.height(),l.height())&&(u.top=Math.max(s.height(),l.height()),H=(p||parseInt(N.style("height"))||400)-u.top-u.bottom),R.select(".nv-controlsWrap").attr("transform","translate(0,"+-u.top+")")}E.attr("transform","translate("+u.left+","+u.top+")"),x&&R.select(".nv-y.nv-axis").attr("transform","translate("+B+",0)"),y&&(c.width(B).height(H).margin({left:u.left,top:u.top}).svgContainer(N).xScale(e),E.select(".nv-interactive").call(c)),o.width(B).height(H),R.select(".nv-stackedWrap").datum(k).transition().call(o),v&&(a.scale(e).ticks(B/100).tickSize(-H,0),R.select(".nv-x.nv-axis").attr("transform","translate(0,"+H+")"),R.select(".nv-x.nv-axis").transition().duration(0).call(a)),m&&(i.scale(n).ticks("wiggle"==o.offset()?0:H/36).tickSize(-B,0).setTickFormat("expand"==o.style()||"stack_percent"==o.style()?d3.format("%"):w),R.select(".nv-y.nv-axis").transition().duration(0).call(i)),o.dispatch.on("areaClick.toggle",function(e){1===k.filter(function(t){return!t.disabled}).length?k.forEach(function(t){t.disabled=!1}):k.forEach(function(t,n){t.disabled=n!=e.seriesIndex}),A.disabled=k.map(function(t){return!!t.disabled}),M.stateChange(A),t.update()}),l.dispatch.on("stateChange",function(e){A.disabled=e.disabled,M.stateChange(A),t.update()}),s.dispatch.on("legendClick",function(e,n){e.disabled&&(_=_.map(function(t){return t.disabled=!0,t}),e.disabled=!1,o.style(e.style),A.style=o.style(),M.stateChange(A),t.update())}),c.dispatch.on("elementMousemove",function(e){o.clearHighlights();var n,l,s,d=[];if(k.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(a,i){l=r.interactiveBisect(a.values,e.pointXValue,t.x()),o.highlightPoint(i,l,!0);var c=a.values[l];if(void 0!==c){void 0===n&&(n=c),void 0===s&&(s=t.xScale()(t.x()(c,l)));var u="expand"==o.style()?c.display.y:t.y()(c,l);d.push({key:a.key,value:u,color:f(a,a.seriesIndex),stackedValue:c.display})}}),d.reverse(),d.length>2){var p=t.yScale().invert(e.mouseY),h=null;d.forEach(function(t,e){p=Math.abs(p);var n=Math.abs(t.stackedValue.y0),r=Math.abs(t.stackedValue.y);p>=n&&p<=r+n&&(h=e)}),null!=h&&(d[h].highlight=!0)}var g=a.tickFormat()(t.x()(n,l)),v="expand"==o.style()?function(t,e){return d3.format(".1%")(t)}:function(t,e){return i.tickFormat()(t)};c.tooltip.position({left:s+u.left,top:e.mouseY+u.top}).chartContainer(L.parentNode).enabled(b).valueFormatter(v).data({value:g,series:d})(),c.renderGuideLine(s)}),c.dispatch.on("elementMouseout",function(t){M.tooltipHide(),o.clearHighlights()}),M.on("tooltipShow",function(t){b&&F(t,L.parentNode)}),M.on("changeState",function(e){void 0!==e.disabled&&k.length===e.disabled.length&&(k.forEach(function(t,n){t.disabled=e.disabled[n]}),A.disabled=e.disabled),void 0!==e.style&&o.style(e.style),t.update()})}),t}var e,n,o=r.models.stackedArea(),a=r.models.axis(),i=r.models.axis(),l=r.models.legend(),s=r.models.legend(),c=r.interactiveGuideline(),u={top:30,right:25,bottom:50,left:60},d=null,p=null,f=r.utils.defaultColor(),h=!0,g=!0,v=!0,m=!0,x=!1,y=!1,b=!0,k=function(t,e,n,r,o){return"<h3>"+t+"</h3><p>"+n+" on "+e+"</p>"},w=d3.format(",.2f"),A={style:o.style()},S=null,C="No Data Available.",M=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),D=250,I=["Stacked","Stream","Expanded"],W={},z=250;a.orient("bottom").tickPadding(7),i.orient(x?"right":"left"),s.updateState(!1);var F=function(e,n){var l=e.pos[0]+(n.offsetLeft||0),s=e.pos[1]+(n.offsetTop||0),c=a.tickFormat()(o.x()(e.point,e.pointIndex)),u=i.tickFormat()(o.y()(e.point,e.pointIndex)),d=k(e.series.key,c,u,e,t);r.tooltip.show([l,s],d,e.value<0?"n":"s",null,n)};return o.dispatch.on("tooltipShow",function(t){t.pos=[t.pos[0]+u.left,t.pos[1]+u.top],M.tooltipShow(t)}),o.dispatch.on("tooltipHide",function(t){M.tooltipHide(t)}),M.on("tooltipHide",function(){b&&r.tooltip.cleanup()}),t.dispatch=M,t.stacked=o,t.legend=l,t.controls=s,t.xAxis=a,t.yAxis=i,t.interactiveLayer=c,d3.rebind(t,o,"x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","sizeDomain","interactive","useVoronoi","offset","order","style","clipEdge","forceX","forceY","forceSize","interpolate"),t.options=r.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(u.top=void 0!==e.top?e.top:u.top,u.right=void 0!==e.right?e.right:u.right,u.bottom=void 0!==e.bottom?e.bottom:u.bottom,u.left=void 0!==e.left?e.left:u.left,t):u},t.width=function(e){return arguments.length?(d=e,t):d},t.height=function(e){return arguments.length?(p=e,t):p},t.color=function(e){return arguments.length?(f=r.utils.getColor(e),l.color(f),o.color(f),t):f},t.showControls=function(e){return arguments.length?(h=e,t):h},t.showLegend=function(e){return arguments.length?(g=e,t):g},t.showXAxis=function(e){return arguments.length?(v=e,t):v},t.showYAxis=function(e){return arguments.length?(m=e,t):m},t.rightAlignYAxis=function(e){return arguments.length?(x=e,i.orient(e?"right":"left"),t):x},t.useInteractiveGuideline=function(e){return arguments.length?(y=e,!0===e&&(t.interactive(!1),t.useVoronoi(!1)),t):y},t.tooltip=function(e){return arguments.length?(k=e,t):k},t.tooltips=function(e){return arguments.length?(b=e,t):b},t.tooltipContent=function(e){return arguments.length?(k=e,t):k},t.state=function(e){return arguments.length?(A=e,t):A},t.defaultState=function(e){return arguments.length?(S=e,t):S},t.noData=function(e){return arguments.length?(C=e,t):C},t.transitionDuration=function(e){return arguments.length?(z=e,t):z},t.controlsData=function(e){return arguments.length?(I=e,t):I},t.controlLabels=function(e){return arguments.length?"object"!=typeof e?W:(W=e,t):W},i.setTickFormat=i.tickFormat,i.tickFormat=function(t){return arguments.length?(w=t,i):w},t}}();